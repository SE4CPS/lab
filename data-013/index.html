<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>COMP 163 - SQL Only</title>

  <link rel="icon" href="https://cdn-icons-png.flaticon.com/512/9850/9850812.png" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reveal.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/theme/black.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/plugin/highlight/monokai.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />

  <style>
    body {
      margin: 0;
    }

    .reveal {
      font-size: 30px;
    }

    .reveal h1,
    .reveal h2,
    .reveal h3 {
      text-transform: none;
    }

    .muted {
      opacity: 0.85;
      font-size: 0.85em;
    }

    .small {
      font-size: 0.8em;
    }

    .tiny {
      font-size: 0.7em;
    }

    /* 2-column split: left list, right SQL example */
    .split {
      display: grid;
      grid-template-columns: 1.05fr 0.95fr;
      gap: 18px;
      align-items: start;
    }

    .split .left {
      text-align: left;
    }

    .split .right {
      text-align: left;
    }

    .split ul {
      margin: 0.2em 0 0.2em 1.0em;
    }

    .split li {
      margin: 0.25em 0;
    }

    /* Code block sizing */
    pre code {
      font-size: 0.72em;
      line-height: 1.25em;
    }

    /* Full slide visuals */
    .full-visual {
      width: 100%;
      height: 78vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .full-visual .frame {
      width: 100%;
      height: 100%;
      border: 2px solid rgba(255, 255, 255, 0.25);
      border-radius: 16px;
      padding: 12px;
      box-sizing: border-box;
      overflow: hidden;
    }

    .full-visual svg {
      pointer-events: none;
    }

    .full-visual {
      height: 60vh;
    }

    /* Table (full slide) */
    table.big {
      width: 100%;
      border-collapse: collapse;
      font-size: 0.72em;
    }

    table.big th,
    table.big td {
      border: 1px solid rgba(255, 255, 255, 0.22);
      padding: 10px 10px;
      vertical-align: top;
    }

    table.big th {
      background: rgba(255, 255, 255, 0.07);
    }

    /* Footer */
    .global-footer {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;

      font-family: system-ui, -apple-system, BlinkMacSystemFont,
        "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      font-size: 0.8em;
      line-height: 1.5;

      color: #f0f2f5;
      /* dark blue, not black */

      padding: 6px 24px;
      z-index: 10;

      letter-spacing: 0.02em;
    }

    /* Footer links */
    .global-footer a {
      color: #dfe7ff;
      text-decoration: none;
      border-bottom: 1px solid rgba(223, 231, 255, 0.35);
    }

    .global-footer a:hover {
      border-bottom-color: rgba(223, 231, 255, 0.7);
    }

    .warn {
      color: #ffb347;
    }

    .diagram-row {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.75em;
      margin-top: 1.5em;
    }

    .diagram-box {
      border: 1px solid #999;
      padding: 0.8em 1em;
      min-width: 120px;
      text-align: center;
      border-radius: 4px;
    }

    .diagram-box.highlight {
      border-width: 2px;
    }

    .diagram-arrow {
      font-size: 1.4em;
    }
  </style>
</head>

<body>

  <img src="https://upload.wikimedia.org/wikipedia/en/b/bb/University_of_the_Pacific_seal.svg"
    alt="University of the Pacific seal"
    style="position: fixed; top: 18px; right: 18px; width: 120px; height: auto; z-index: 9999; opacity: 0.92;" />

  <div class="reveal">
    <div class="slides">

      <!-- Title + intro stack -->
      <section id="module-welcome">

        <!-- Lead slide (unchanged) -->
        <section>
          <h3>Welcome to Introduction to SQL</h3>
          <p class="muted">
            Course: <strong>DATA 013</strong><br />
            Format: <span class="small">Asynchronous</span><br />
            Semester: <span class="small">Spring 2026</span>
          </p>
          <p class="tiny muted">Focus: core SQL concepts with portable examples across multiple database systems.</p>
        </section>

        <!-- ===================================================== -->
        <!-- ASSUMPTIONS -->
        <!-- ===================================================== -->

        <section>
          <h3>Course Assumptions</h3>
          <p class="muted">What is expected before starting this course.</p>
        </section>

        <section>
          <h3>No Database Background Required</h3>
          <ul>
            <li>No prior SQL required</li>
            <li>No database theory required</li>
            <li>All concepts start from zero</li>
            <li>We build skill through practice</li>
          </ul>
        </section>

        <section>
          <h3>Programming Basics Assumed</h3>
          <ul>
            <li>Variables and values</li>
            <li>Basic types: numbers, text</li>
            <li>Conditionals: if / else</li>
            <li>Reading structured syntax</li>
          </ul>
          <p class="tiny muted">Any modern programming language background is sufficient.</p>
        </section>

        <section>
          <h3>How SQL Will Be Taught</h3>
          <ul>
            <li>Concept and syntax</li>
            <li>Short, focused examples</li>
          </ul>
        </section>

        <!-- ===================================================== -->
        <!-- SQL → DBMS → DATA DIAGRAM -->
        <!-- ===================================================== -->

        <section>
          <h3>How SQL Fits In</h3>
          <p class="muted">
            We learn SQL as the language that talks to a database system and, through it, to the data.
          </p>

          <div class="diagram-row">
            <div class="diagram-box">
              <strong>You</strong><br />
            </div>

            <div class="diagram-arrow">→</div>

            <div class="diagram-box highlight" style="color: orange">
              <strong>SQL</strong><br />
            </div>

            <div class="diagram-arrow">→</div>

            <div class="diagram-box">
              <strong>DBMS</strong><br />
            </div>

            <div class="diagram-arrow">→</div>

            <div class="diagram-box">
              <strong>Data</strong><br />
            </div>
          </div>

          <p class="tiny muted" style="margin-top: 1em;">
            SQL stays the same; the DBMS may change.
          </p>
        </section>

        <!-- ===================================================== -->
        <!-- SQL STANDARD USED IN THIS COURSE -->
        <!-- ===================================================== -->

        <section>
          <h3>Which SQL Standard We Use</h3>

          <ul>
            <li>Based primarily on the <strong>ANSI / ISO SQL standard</strong></li>
            <li>Core concepts shared by all major DBMSs</li>
            <li>Limited vendor specific extensions at the start</li>
          </ul>

          <p class="muted">
            If SQL works here, it will generally work in:
          </p>

          <ul class="tiny">
            <li>PostgreSQL</li>
            <li>MySQL / MariaDB</li>
            <li>SQLite</li>
            <li>SQL Server</li>
          </ul>

          <p class="tiny muted" style="margin-top: 1em;">
            Reference (informal but practical):
            <a href="https://www.w3schools.com/sql/sql_ref_keywords.asp" target="_blank" rel="noreferrer">
              SQL Standard Keywords Reference
            </a>
          </p>
        </section>

        <!-- ===================================================== -->
        <!-- CANVAS + SYLLABUS -->
        <!-- ===================================================== -->

        <section>
          <h3>Canvas Course Home</h3>
          <p class="muted">All official course activity runs through Canvas.</p>
        </section>

        <section>
          <h3>Where to Find Everything</h3>
          <ul>
            <li>Assignments and due dates</li>
            <li>Labs and homework instructions</li>
            <li>Grades and feedback</li>
            <li>Official announcements</li>
          </ul>
        </section>

        <section>
          <h3>Syllabus on Canvas</h3>
          <p class="muted">The syllabus is the authoritative course reference.</p>
          <p>
            <a href="https://pacific.instructure.com/courses/143361/assignments/syllabus" target="_blank"
              rel="noreferrer">
              Open Syllabus in Canvas
            </a>
          </p>
        </section>

        <!-- ===================================================== -->
        <!-- INTRO FRAMING -->
        <!-- ===================================================== -->

        <section>
          <h3>What This Course Is</h3>
          <ul>
            <li>Practical introduction to SQL</li>
            <li>Focused on querying real data</li>
          </ul>
        </section>

        <section>
          <h3>What This Course Is Not</h3>
          <ul>
            <li>Not database administration training</li>
            <li>Not vendor specific certification</li>
            <li>Not tool focused</li>
            <li>Not theory heavy</li>
          </ul>
        </section>

        <section>
          <h3>How to Do Well</h3>
          <ul>
            <li>Write SQL regularly</li>
            <li>Run every example yourself</li>
            <li>Read errors carefully</li>
            <li>Repeat until fluent</li>
          </ul>
        </section>

      </section>

      <!-- Table of Contents  -->
      <section id="module-toc">
        <table style="margin: 0 auto; width: 100%; border-collapse: collapse; font-size: 0.85rem; table-layout: fixed;">
          <thead>
            <tr style="background-color: #444; color: #fff;">
              <th
                style="padding: 8px; border: 1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;width: 120px;">
                Week</th>
              <th
                style="padding: 8px; border: 1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;width: 30%;">
                Topic</th>
              <th
                style="padding: 8px; border: 1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">
                Assignment (Canvas)</th>
              <th
                style="padding: 8px; border: 1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;width: 70px;">
                Database</th>
              <th
                style="padding: 8px; border: 1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;width: 150px;">
                Comment</th>
            </tr>
          </thead>

          <tbody>
            <tr style="color:#ccc;">
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                1 (Jan 12, 14, 16)</td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                <a href="./#/2/"
                  style="display:block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">CREATE,
                  DATABASE, SCHEMA, TABLE</a>
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                Lab 1, Homework 1 (2w)</td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                SQLite</td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
            </tr>

            <tr style="color:#ccc;">
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                2 (Jan 21, 23)</td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                <a href="./#/3"
                  style="display:block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">INSERT, VALUES,
                  INTO, UPDATE, SET, DELETE</a>
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                Holiday on Monday (Jan 19)</td>
            </tr>

            <tr style="color:#ccc;">
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                3 (Jan 26, 28, 30)</td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                <a href="./#/4"
                  style="display:block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">SELECT, FROM,
                  WHERE, GROUP, BY, HAVING</a>
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                Lab 2, Homework 2 (2w)</td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
            </tr>

            <tr style="color:#ccc;">
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                4 (Feb 2, 4, 6)</td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                <a href="./#/module-4"
                  style="display:block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">ORDER,
                  DISTINCT, AS, ALL, LIMIT, OFFSET</a>
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                PostgreSQL</td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
            </tr>

            <tr style="color:#ccc;">
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                5 (Feb 9, 11, 13)</td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                <a href="./#/module-5"
                  style="display:block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">JOIN, INNER,
                  LEFT, RIGHT, FULL, OUTER</a>
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                Lab 3, Homework 3 (2w), Project 1 (4w)</td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
            </tr>

            <tr style="color:#ccc;">
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                6 (Feb 18, 20)</td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                <a href="./#/module-6"
                  style="display:block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">EXISTS, IN,
                  ANY, BETWEEN, LIKE, ESCAPE</a>
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                Holiday on Monday (Feb 16)</td>
            </tr>

            <tr style="color:#ccc;">
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                7 (Feb 23, 25, 27)</td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                <a href="./#/module-7"
                  style="display:block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">CROSS, ON,
                  USING, UNION, INTERSECT, EXCEPT</a>
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                Lab 4, Homework 4 (2w) (Mar 6)
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                MariaDB
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">

              </td>
            </tr>

            <tr style="color:#ccc;">
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                8 (Mar 2, 4, 6)</td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                <a href="./#/module-8"
                  style="display:block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">FETCH, TOP,
                  RETURNING, CURRENT, READ, WRITE</a>
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
            </tr>

            <tr style="color:#ccc;">
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                9 (–)</td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                Spring Break</td>
            </tr>

            <tr style="color:#ccc;">
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                10 (Mar 16, 18, 20)</td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                <a href="./#/module-9"
                  style="display:block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">NULL, IS, NOT,
                  DEFAULT, CASE, WHEN</a>
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                Lab 5, Homework 5 (2w), Project 2 (4w)</td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                Oracle
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
            </tr>

            <tr style="color:#ccc;">
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                11 (Mar 23, 25, 27)</td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                <a href="./#/module-10"
                  style="display:block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">SCHEMA, COLUMN,
                  SEQUENCE, REFERENCES, DATABASE, INDEX</a>
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
            </tr>

            <tr style="color:#ccc;">
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                12 (Mar 30, Apr 1, 3)</td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                <a href="./#/module-11"
                  style="display:block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">CONSTRAINT,
                  PRIMARY, FOREIGN, KEY, UNIQUE, CHECK</a>
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                Lab 6, Homework 6 (2w)</td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
            </tr>

            <tr style="color:#ccc;">
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                13 (Apr 6, 8, 10)</td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                <a href="./#/module-12"
                  style="display:block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">CASCADE,
                  RESTRICT, NO, ACTION, DEFERRABLE, INITIALLY</a>
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                ClickHouse
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
            </tr>

            <tr style="color:#ccc;">
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                14 (Apr 13, 15, 17)</td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                <a href="./#/module-13"
                  style="display:block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">TRANSACTION,
                  BEGIN, COMMIT, ROLLBACK, SAVEPOINT, RELEASE</a>
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                Lab 7, Homework 7 (2w)</td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
            </tr>

            <tr style="color:#ccc;">
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                15 (Apr 20, 22, 24)</td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                <a href="./#/module-14"
                  style="display:block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">LOCK, GRANT,
                  REVOKE, USER, ROLE, SESSION</a>
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
            </tr>

            <tr style="color:#ccc;">
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                16 (Apr 27)</td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                <a href="./#/module-15"
                  style="display:block; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;">Semester SQL
                  Query Review</a>
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
              </td>
              <td
                style="padding:6px; border:1px solid #666; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 0;">
                Classes End (April 28)</td>
            </tr>
          </tbody>
        </table>
      </section>

      <!-- MODULE 1 -->
      <section id="module-1">

        <!-- Title -->
        <section>
          <h2>Module 1</h2>
          <h3>SQL Objects: Database, Schema, Table</h3>
          <p class="muted">
            CREATE · SELECT · DROP · ALTER · RENAME · TABLE · COLUMN · TYPES
          </p>
          <p class="tiny muted">
            Structure first: we define containers, then organization, then tables and columns.
          </p>
        </section>

        <!-- ===================================================== -->
        <!-- PART 1: DATABASE -->
        <!-- ===================================================== -->
        <section>
          <h3>Part 1: Database</h3>
          <p class="muted">Goal: create, inspect, rename, and drop a database safely.</p>
        </section>

        <section>
          <h3>Agenda</h3>
          <ul>
            <li>Concept: database as top container</li>
            <li>Diagram: where it sits</li>
            <li>Syntax: create, select, drop</li>
            <li>Rename and update name</li>
            <li>Naming conventions</li>
            <li>Common errors and mitigation</li>
            <li>Support table by database system</li>
          </ul>
        </section>

        <section>
          <div class="full-visual">
            <div class="frame">
              <svg viewBox="0 0 1200 650" style="width:100%; height:90%; pointer-events:none;">
                <rect x="120" y="90" width="960" height="470" rx="28" fill="rgba(255,255,255,0.06)"
                  stroke="rgba(255,255,255,0.35)" stroke-width="4" />
                <text x="600" y="150" text-anchor="middle" font-size="34" fill="#fff">Database</text>
                <text x="600" y="190" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.75)">
                  Top level container
                </text>

                <rect x="210" y="260" width="330" height="240" rx="22" fill="rgba(255,255,255,0.07)"
                  stroke="rgba(255,255,255,0.28)" stroke-width="3" />
                <text x="375" y="315" text-anchor="middle" font-size="26" fill="#fff">Schema A</text>
                <text x="375" y="350" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">
                  tables
                </text>

                <rect x="660" y="260" width="330" height="240" rx="22" fill="rgba(255,255,255,0.07)"
                  stroke="rgba(255,255,255,0.28)" stroke-width="3" />
                <text x="825" y="315" text-anchor="middle" font-size="26" fill="#fff">Schema B</text>
                <text x="825" y="350" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">
                  tables
                </text>
              </svg>
            </div>
          </div>
        </section>

        <section>
          <h3>Create database</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Use a stable project name</li>
                <li>Create once during setup</li>
                <li>Prefer predictable ownership</li>
                <li>Keep it simple at first</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">CREATE DATABASE flower_shop;</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Select and inspect databases</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Systems use different queries</li>
                <li>Goal is the same: confirm it exists</li>
                <li>Always verify before continuing</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- PostgreSQL
\l

-- MySQL and MariaDB
SHOW DATABASES;

-- SQLite
-- database is a file; list attached
PRAGMA database_list;</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Rename database or update name</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Rename is not portable</li>
                <li>Rename requires admin access</li>
                <li>Plan naming to avoid renames</li>
              </ul>
              <p class="tiny muted">
                In many teams, rename is avoided in production.
              </p>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- PostgreSQL (typical)
ALTER DATABASE flower_shop RENAME TO flower_store;

-- MySQL and MariaDB
-- often: create new database, migrate data

-- SQLite
-- rename the file (outside SQL)</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Drop database ⚠️</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Deletes all data</li>
                <li>Drops schemas, tables</li>
                <li>Backups before drop</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">DROP DATABASE flower_shop;</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Database naming conventions</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Lowercase, underscore naming</li>
                <li>Use meaningful nouns</li>
                <li>Avoid spaces and punctuation</li>
                <li>Avoid reserved words</li>
                <li>Prefer stable names over dates</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Good
flower_shop
sales_data
inventory

-- Risky
my database
db1
select
FLOWERS_2026</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Common database errors and mitigation</h3>
          <table class="big">
            <thead>
              <tr>
                <th>Error pattern</th>
                <th>Cause</th>
                <th>Mitigation</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Already exists</td>
                <td>Name collision</td>
                <td>Inspect first, then choose unique name</td>
              </tr>
              <tr>
                <td>Permission denied</td>
                <td>Missing privileges</td>
                <td>Use correct account, request access, document roles</td>
              </tr>
              <tr>
                <td>Connected to wrong environment</td>
                <td>Wrong host or database</td>
                <td>Verify connection string and current database before running DDL</td>
              </tr>
              <tr>
                <td>Rename not supported</td>
                <td>Vendor limitation</td>
                <td>Choose stable name early, use migrate strategy if needed</td>
              </tr>
            </tbody>
          </table>
        </section>

        <section>
          <h3>Database support by system</h3>
          <table class="big">
            <thead>
              <tr>
                <th>Operation</th>
                <th>SQLite</th>
                <th>PostgreSQL</th>
                <th>MySQL</th>
                <th>MariaDB</th>
                <th>Oracle</th>
                <th>SQL Server</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>CREATE DATABASE</td>
                <td>Concept via file</td>
                <td>Yes</td>
                <td>Yes</td>
                <td>Yes</td>
                <td>Yes</td>
                <td>Yes</td>
              </tr>
              <tr>
                <td>List databases</td>
                <td>PRAGMA database_list</td>
                <td>\l</td>
                <td>SHOW DATABASES</td>
                <td>SHOW DATABASES</td>
                <td>SELECT from data dictionary</td>
                <td>sys.databases</td>
              </tr>
              <tr>
                <td>Rename database</td>
                <td>Rename file</td>
                <td>ALTER DATABASE RENAME</td>
                <td>Not standard</td>
                <td>Not standard</td>
                <td>Admin workflow</td>
                <td>ALTER DATABASE MODIFY NAME</td>
              </tr>
              <tr>
                <td>DROP DATABASE</td>
                <td>Delete file</td>
                <td>Yes</td>
                <td>Yes</td>
                <td>Yes</td>
                <td>Yes</td>
                <td>Yes</td>
              </tr>
            </tbody>
          </table>
          <p class="tiny muted">Portable habit: plan names early; treat rename as exceptional.</p>
        </section>

        <!-- ===================================================== -->
        <!-- PART 2: SCHEMA -->
        <!-- ===================================================== -->
        <section>
          <h3>Part 2: Schema</h3>
          <p class="muted">Goal: organize objects using schemas when the system supports them.</p>
        </section>

        <section>
          <h3>Agenda</h3>
          <ul>
            <li>Concept: namespace inside database</li>
            <li>Diagram: schema and qualified names</li>
            <li>Syntax: create, select, drop</li>
            <li>Rename and update name</li>
            <li>Naming conventions</li>
            <li>Common errors and mitigation</li>
            <li>Support table by database system</li>
          </ul>
        </section>

        <section>
          <div class="full-visual">
            <div class="frame">
              <svg viewBox="0 0 1200 650" style="width:100%; height:100%;">

                <!-- Database -->
                <rect x="120" y="90" width="960" height="470" rx="28" fill="rgba(255,255,255,0.06)"
                  stroke="rgba(255,255,255,0.35)" stroke-width="4" />
                <text x="600" y="150" text-anchor="middle" font-size="34" fill="#fff">
                  Database: flower_shop
                </text>

                <!-- Schema: inventory -->
                <rect x="210" y="240" width="360" height="310" rx="22" fill="rgba(255,255,255,0.07)"
                  stroke="rgba(255,255,255,0.28)" stroke-width="3" />
                <text x="390" y="295" text-anchor="middle" font-size="26" fill="#fff">
                  Schema: inventory
                </text>

                <!-- Table: inventory.flowers (more vertical space) -->
                <rect x="255" y="330" width="270" height="110" rx="16" fill="rgba(255,255,255,0.12)"
                  stroke="rgba(255,255,255,0.4)" stroke-width="2" />
                <text x="390" y="380" text-anchor="middle" font-size="22" fill="#fff">
                  flowers
                </text>
                <text x="390" y="410" text-anchor="middle" font-size="14" fill="rgba(255,255,255,0.7)">
                  inventory.flowers
                </text>

                <!-- Schema: sales -->
                <rect x="630" y="240" width="360" height="310" rx="22" fill="rgba(255,255,255,0.07)"
                  stroke="rgba(255,255,255,0.28)" stroke-width="3" />
                <text x="810" y="295" text-anchor="middle" font-size="26" fill="#fff">
                  Schema: sales
                </text>

                <!-- Table: sales.orders (more vertical space) -->
                <rect x="675" y="330" width="270" height="110" rx="16" fill="rgba(255,255,255,0.12)"
                  stroke="rgba(255,255,255,0.4)" stroke-width="2" />
                <text x="810" y="380" text-anchor="middle" font-size="22" fill="#fff">
                  orders
                </text>
                <text x="810" y="410" text-anchor="middle" font-size="14" fill="rgba(255,255,255,0.7)">
                  sales.orders
                </text>

              </svg>
            </div>
          </div>
        </section>

        <section>
          <div class="full-visual">
            <div class="frame">
              <svg viewBox="0 0 1200 650" style="width:100%; height:100%;">

                <!-- Database -->
                <rect x="120" y="90" width="960" height="470" rx="28" fill="rgba(255,255,255,0.06)"
                  stroke="rgba(255,255,255,0.35)" stroke-width="4" />
                <text x="600" y="150" text-anchor="middle" font-size="34" fill="#fff">
                  Database: flower_shop
                </text>

                <!-- Schema: inventory -->
                <rect x="210" y="240" width="360" height="310" rx="22" fill="rgba(255,255,255,0.07)"
                  stroke="rgba(255,255,255,0.28)" stroke-width="3" />
                <text x="390" y="295" text-anchor="middle" font-size="26" fill="#fff">
                  Schema: inventory
                </text>

                <!-- Table: inventory.items -->
                <rect x="255" y="330" width="270" height="110" rx="16" fill="rgba(255,255,255,0.12)"
                  stroke="rgba(255,255,255,0.4)" stroke-width="2" />
                <text x="390" y="380" text-anchor="middle" font-size="22" fill="#fff">
                  items
                </text>
                <text x="390" y="410" text-anchor="middle" font-size="14" fill="rgba(255,255,255,0.7)">
                  inventory.items
                </text>

                <!-- Schema: sales -->
                <rect x="630" y="240" width="360" height="310" rx="22" fill="rgba(255,255,255,0.07)"
                  stroke="rgba(255,255,255,0.28)" stroke-width="3" />
                <text x="810" y="295" text-anchor="middle" font-size="26" fill="#fff">
                  Schema: sales
                </text>

                <!-- Table: sales.items -->
                <rect x="675" y="330" width="270" height="110" rx="16" fill="rgba(255,255,255,0.12)"
                  stroke="rgba(255,255,255,0.4)" stroke-width="2" />
                <text x="810" y="380" text-anchor="middle" font-size="22" fill="#fff">
                  items
                </text>
                <text x="810" y="410" text-anchor="middle" font-size="14" fill="rgba(255,255,255,0.7)">
                  sales.items
                </text>

              </svg>
            </div>
          </div>
        </section>

        <section>
          <h3>Create schema</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Use schema to separate domains</li>
                <li>Inventory, sales common splits</li>
                <li>Qualified names reduce collisions</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">CREATE SCHEMA inventory;
CREATE SCHEMA sales;</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Select and inspect schemas</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Check existing schema</li>
                <li>Check existingconventions</li>
                <li>Match team structure</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Standard information schema (many systems)
SELECT schema_name
FROM information_schema.schemata
ORDER BY schema_name;

-- PostgreSQL
\dn</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Rename schema or update name</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Rename exists in some systems</li>
                <li>Not consistent across vendors</li>
                <li>Prefer stable names up front</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- PostgreSQL
ALTER SCHEMA inventory RENAME TO stock;

-- MySQL and MariaDB
-- schema is the database name in practice

-- SQLite
-- schemas are limited; prefer clear table names</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Drop schema ⚠️</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>May require <code>CASCADE</code></li>
                <li><code>CASCADE</code> drops dependents</li>
                <li>Use only for demos</li>
                <li class="warn">Drops tables and data</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">DROP SCHEMA inventory;

-- If objects exist (system dependent)
DROP SCHEMA inventory CASCADE;</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Schema naming conventions</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Short nouns, lowercase</li>
                <li>One purpose per schema</li>
                <li>Avoid spaces and punctuation</li>
                <li>Avoid reserved words</li>
                <li>Match business domain terms</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Good
inventory
sales
customers

-- Risky
SalesSchema
sales-data
my schema
select</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Common schema errors and mitigation</h3>
          <table class="big">
            <thead>
              <tr>
                <th>Error pattern</th>
                <th>Cause</th>
                <th>Mitigation</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Schema not found</td>
                <td>Wrong database or search path</td>
                <td>Confirm current database; use qualified names</td>
              </tr>
              <tr>
                <td>Already exists</td>
                <td>Duplicate name</td>
                <td>Inspect schemas first; follow naming standard</td>
              </tr>
              <tr>
                <td>Cannot drop, objects exist</td>
                <td>Tables and views inside</td>
                <td>Drop objects first; use CASCADE only in demos</td>
              </tr>
              <tr>
                <td>Feature not supported</td>
                <td>Vendor differences</td>
                <td>Use database namespaces or clear table prefixes</td>
              </tr>
            </tbody>
          </table>
        </section>

        <section>
          <h3>Schema support by system</h3>
          <table class="big">
            <thead>
              <tr>
                <th>Operation</th>
                <th>SQLite</th>
                <th>PostgreSQL</th>
                <th>MySQL</th>
                <th>MariaDB</th>
                <th>Oracle</th>
                <th>SQL Server</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>CREATE SCHEMA</td>
                <td>Limited</td>
                <td>Yes</td>
                <td>Yes (often equals database)</td>
                <td>Yes (often equals database)</td>
                <td>Yes (user centric)</td>
                <td>Yes</td>
              </tr>
              <tr>
                <td>List schemas</td>
                <td>Limited</td>
                <td>\dn or information schema</td>
                <td>information schema</td>
                <td>information schema</td>
                <td>Data dictionary</td>
                <td>sys.schemas</td>
              </tr>
              <tr>
                <td>Rename schema</td>
                <td>No</td>
                <td>ALTER SCHEMA RENAME</td>
                <td>Not standard</td>
                <td>Not standard</td>
                <td>Admin workflow</td>
                <td>ALTER SCHEMA</td>
              </tr>
              <tr>
                <td>DROP SCHEMA</td>
                <td>Limited</td>
                <td>Yes</td>
                <td>Yes (drop database)</td>
                <td>Yes (drop database)</td>
                <td>Yes</td>
                <td>Yes</td>
              </tr>
            </tbody>
          </table>
          <p class="tiny muted">Portable habit: always use qualified names in examples.</p>
        </section>

        <!-- ===================================================== -->
        <!-- PART 3: TABLE + COLUMNS + COMMON DATA TYPES -->
        <!-- ===================================================== -->
        <section>
          <h3>Part 3: Table</h3>
          <p class="muted">Goal: create tables, inspect them, rename them, and define columns with common types.</p>
        </section>

        <section>
          <h3>Agenda</h3>
          <ul>
            <li>Concept: rows and columns</li>
            <li>Diagram: table shape</li>
            <li>Syntax: create, select, drop</li>
            <li>Rename and update name</li>
            <li>Columns and common data types</li>
            <li>Naming conventions</li>
            <li>Common errors and mitigation</li>
            <li>Support table by database system</li>
          </ul>
        </section>

        <section>
          <div class="full-visual">
            <div class="frame">
              <svg viewBox="0 0 1200 650" style="width:100%; height:100%;">
                <rect x="140" y="120" width="920" height="420" rx="22" fill="rgba(255,255,255,0.06)"
                  stroke="rgba(255,255,255,0.35)" stroke-width="4" />
                <text x="600" y="175" text-anchor="middle" font-size="30" fill="#fff">Table: flowers</text>
                <text x="600" y="210" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">Rows are
                  items, columns are attributes</text>

                <!-- header row -->
                <rect x="190" y="260" width="820" height="70" rx="14" fill="rgba(255,255,255,0.07)"
                  stroke="rgba(255,255,255,0.22)" stroke-width="2" />
                <text x="260" y="305" text-anchor="middle" font-size="16" fill="#fff">flower_id</text>
                <text x="420" y="305" text-anchor="middle" font-size="16" fill="#fff">name</text>
                <text x="580" y="305" text-anchor="middle" font-size="16" fill="#fff">color</text>
                <text x="740" y="305" text-anchor="middle" font-size="16" fill="#fff">price</text>
                <text x="900" y="305" text-anchor="middle" font-size="16" fill="#fff">in_stock</text>

                <!-- row 1 -->
                <rect x="190" y="345" width="820" height="70" rx="14" fill="rgba(255,255,255,0.03)"
                  stroke="rgba(255,255,255,0.18)" stroke-width="2" />
                <text x="260" y="390" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.9)">101</text>
                <text x="420" y="390" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.9)">Rose</text>
                <text x="580" y="390" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.9)">Red</text>
                <text x="740" y="390" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.9)">3.99</text>
                <text x="900" y="390" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.9)">1</text>

                <!-- row 2 -->
                <rect x="190" y="430" width="820" height="70" rx="14" fill="rgba(255,255,255,0.03)"
                  stroke="rgba(255,255,255,0.18)" stroke-width="2" />
                <text x="260" y="475" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.9)">102</text>
                <text x="420" y="475" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.9)">Tulip</text>
                <text x="580" y="475" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.9)">Yellow</text>
                <text x="740" y="475" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.9)">2.49</text>
                <text x="900" y="475" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.9)">1</text>
              </svg>
            </div>
          </div>
        </section>

        <section>
          <h3>Create table with common column types</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Start small, add constraints later</li>
                <li>Use obvious names for columns</li>
                <li>Pick types that match meaning</li>
                <li>Prefer explicit identifiers</li>
              </ul>
              <p class="tiny muted">
                This is a portable baseline; vendors add extra types.
              </p>
            </div>
            <div class="right">
              <pre><code class="language-sql">CREATE TABLE flowers (
  flower_id INTEGER,
  name      TEXT,
  color     TEXT,
  price     DECIMAL,
  in_stock  INTEGER
);</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Select and inspect table structure</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Inspect immediately after create</li>
                <li>Confirm columns and types</li>
                <li>Fix early when it is cheap</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- SQLite: list tables
SELECT name
FROM sqlite_master
WHERE type='table'
ORDER BY name;

-- SQLite: inspect columns
PRAGMA table_info(flowers);

-- PostgreSQL: describe
-- \d flowers</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Rename table or update name</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Rename is widely supported</li>
                <li>Still check dependencies</li>
                <li>Update software references</li>
                <li>Restart software server</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">ALTER TABLE flowers RENAME TO flower;

-- Some systems also support:
-- RENAME TABLE flowers TO flower;</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Drop table ⚠️</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li class="warn">Deletes data</li>
                <li>Deletes structure</li>
                <li>Use for demos</li>
                <li>Backups recommended</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">DROP TABLE flowers;</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Common SQL data types by meaning</h3>
          <table class="big">
            <thead>
              <tr>
                <th>Meaning</th>
                <th>Common type</th>
                <th>Examples</th>
                <th>Notes</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Identifier</td>
                <td>INTEGER</td>
                <td>flower_id, customer_id</td>
                <td>Often paired with primary key later</td>
              </tr>
              <tr>
                <td>Short text</td>
                <td>TEXT or VARCHAR</td>
                <td>name, color</td>
                <td>VARCHAR is length bounded in many systems</td>
              </tr>
              <tr>
                <td>Money</td>
                <td>INTEGER cents or DECIMAL</td>
                <td>price_cents, unit_price</td>
                <td>Prefer integer cents to avoid rounding issues</td>
              </tr>
              <tr>
                <td>Boolean flag</td>
                <td>BOOLEAN or INTEGER</td>
                <td>in_stock</td>
                <td>SQLite commonly uses 0 and 1</td>
              </tr>
              <tr>
                <td>Date and time</td>
                <td>TEXT or TIMESTAMP</td>
                <td>created_at, order_date</td>
                <td>SQLite stores as text by convention; others have native types</td>
              </tr>
            </tbody>
          </table>
        </section>

        <section>
          <h3>Table naming conventions</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Lowercase, underscore naming</li>
                <li>Use id suffix for identifiers</li>
                <li>Avoid reserved words</li>
                <li>Keep names stable over time</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Good
flowers
order_item
customer

-- Risky
Order
MyTable
flower data
select</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Common table errors and mitigation</h3>
          <table class="big">
            <thead>
              <tr>
                <th>Error pattern</th>
                <th>Cause</th>
                <th>Mitigation</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Syntax error near keyword</td>
                <td>Reserved word used as name</td>
                <td>Rename object or quote carefully; prefer safe names</td>
              </tr>
              <tr>
                <td>No such table</td>
                <td>Wrong schema or typo</td>
                <td>Use qualified names; inspect tables list</td>
              </tr>
              <tr>
                <td>Type mismatch or constraint failure</td>
                <td>Bad data inserted later</td>
                <td>Validate inputs; add constraints gradually</td>
              </tr>
              <tr>
                <td>Cannot drop due to dependencies</td>
                <td>Foreign keys and views reference it</td>
                <td>Drop dependents first; avoid CASCADE in real systems</td>
              </tr>
            </tbody>
          </table>
        </section>

        <section>
          <h3>Table support by system</h3>
          <table class="big">
            <thead>
              <tr>
                <th>Operation</th>
                <th>SQLite</th>
                <th>PostgreSQL</th>
                <th>MySQL</th>
                <th>MariaDB</th>
                <th>Oracle</th>
                <th>SQL Server</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>CREATE TABLE</td>
                <td>Yes</td>
                <td>Yes</td>
                <td>Yes</td>
                <td>Yes</td>
                <td>Yes</td>
                <td>Yes</td>
              </tr>
              <tr>
                <td>Inspect columns</td>
                <td>PRAGMA table_info</td>
                <td>\d or information schema</td>
                <td>DESCRIBE or information schema</td>
                <td>DESCRIBE or information schema</td>
                <td>Data dictionary</td>
                <td>sp_help or sys.columns</td>
              </tr>
              <tr>
                <td>Rename table</td>
                <td>ALTER TABLE RENAME</td>
                <td>ALTER TABLE RENAME</td>
                <td>RENAME TABLE or ALTER TABLE</td>
                <td>RENAME TABLE or ALTER TABLE</td>
                <td>RENAME (or ALTER TABLE)</td>
                <td>sp_rename or ALTER SCHEMA</td>
              </tr>
              <tr>
                <td>DROP TABLE</td>
                <td>Yes</td>
                <td>Yes</td>
                <td>Yes</td>
                <td>Yes</td>
                <td>Yes</td>
                <td>Yes</td>
              </tr>
              <tr>
                <td>Common types</td>
                <td>INTEGER, TEXT, REAL</td>
                <td>INT, TEXT, NUMERIC</td>
                <td>INT, VARCHAR, DECIMAL</td>
                <td>INT, VARCHAR, DECIMAL</td>
                <td>NUMBER, VARCHAR2, DATE</td>
                <td>INT, NVARCHAR, DECIMAL</td>
              </tr>
            </tbody>
          </table>
          <p class="tiny muted">Portable habit: use simple types first, then specialize per vendor.</p>
        </section>

        <section>
          <h3>IF EXISTS</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Prevents runtime errors</li>
                <li>Safe cleanup operations</li>
                <li>Useful in automation</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Drop only if present
DROP TABLE IF EXISTS flowers;

DROP SCHEMA IF EXISTS inventory;

DROP DATABASE IF EXISTS flower_shop;</code></pre>
            </div>
          </div>
          <p class="tiny muted">
            Not all databases support <code>IF EXISTS</code> in every statement. Check vendor support.
          </p>
        </section>

        <!-- Close module -->
        <section>
          <h3>Module 1 recap</h3>
          <ul>
            <li>Database defines top level scope</li>
            <li>Schema organizes objects by domain</li>
            <li>Table stores rows with typed columns</li>
            <li>Next: insert, update, delete rows</li>
          </ul>
        </section>

      </section>

      <!-- MODULE 2 -->
      <section id="module-2">

        <!-- Title -->
        <section>
          <h2>Module 2</h2>
          <h3>SQL Rows: INSERT, UPDATE, DELETE (Single Table CRUD)</h3>
          <p class="muted">
            INSERT · INTO · VALUES · SELECT · UPDATE · SET · DELETE · WHERE
          </p>
          <p class="tiny muted">
            Focus: safe row changes on one table at a time. Verification is done with SELECT.
          </p>
        </section>

        <!-- ===================================================== -->
        <!-- TABLE USED THROUGHOUT (Single table only) -->
        <!-- ===================================================== -->

        <section>
          <h3>Domain table: flowers (single table only)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>All examples use one table: <code>flowers</code></li>
                <li>We practice CRUD without foreign keys</li>
                <li>Primary key and auto increment are part of the discipline</li>
                <li>SELECT is used to preview and confirm</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Example schema (for reference only)
-- flowers(
--   flower_id INTEGER PRIMARY KEY AUTOINCREMENT,
--   name      TEXT NOT NULL,
--   color     TEXT NOT NULL,
--   price     REAL NOT NULL,
--   stock     INTEGER NOT NULL
-- );</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Diagram: one table, row based operations</h3>
          <div class="full-visual">
            <div class="frame">
              <svg viewBox="0 0 1200 650" style="width:100%; height:100%; pointer-events:none;">
                <text x="600" y="90" text-anchor="middle" font-size="28" fill="#fff">Single table CRUD</text>

                <rect x="180" y="150" width="840" height="390" rx="22" fill="rgba(255,255,255,0.06)"
                  stroke="rgba(255,255,255,0.35)" stroke-width="3" />
                <text x="600" y="200" text-anchor="middle" font-size="26" fill="#fff">flowers</text>
                <text x="600" y="232" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">
                  INSERT adds rows · UPDATE edits rows · DELETE removes rows
                </text>

                <rect x="240" y="270" width="720" height="70" rx="14" fill="rgba(255,255,255,0.07)"
                  stroke="rgba(255,255,255,0.22)" stroke-width="2" />
                <text x="320" y="315" text-anchor="middle" font-size="16" fill="#fff">flower_id (PK)</text>
                <text x="490" y="315" text-anchor="middle" font-size="16" fill="#fff">name</text>
                <text x="660" y="315" text-anchor="middle" font-size="16" fill="#fff">color</text>
                <text x="820" y="315" text-anchor="middle" font-size="16" fill="#fff">price</text>

                <rect x="240" y="360" width="720" height="70" rx="14" fill="rgba(255,255,255,0.03)"
                  stroke="rgba(255,255,255,0.18)" stroke-width="2" />
                <text x="320" y="405" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.9)">101</text>
                <text x="490" y="405" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.9)">Rose</text>
                <text x="660" y="405" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.9)">Red</text>
                <text x="820" y="405" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.9)">3.99</text>

                <text x="600" y="515" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">
                  Primary key uniquely identifies a row. WHERE targets a row.
                </text>
              </svg>
            </div>
          </div>
        </section>

        <!-- ===================================================== -->
        <!-- PART 0: SELECT AS VERIFICATION TOOL (single table) -->
        <!-- ===================================================== -->

        <section>
          <h3>Part 0: SELECT as verification</h3>
          <p class="muted">Every change is paired with SELECT: preview and confirm.</p>
        </section>

        <section>
          <h3>Safe workflow (single table)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Preview the set: <strong>SELECT ... WHERE ...</strong></li>
                <li>Change the set: INSERT / UPDATE / DELETE</li>
                <li>Confirm the set: SELECT again</li>
                <li>Do not skip verification</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Preview
SELECT flower_id, name, price, stock
FROM flowers
WHERE color = 'Red';

-- Confirm (same query after change)
SELECT flower_id, name, price, stock
FROM flowers
WHERE color = 'Red';</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Diagram: SELECT preview → change → SELECT confirm</h3>
          <div class="full-visual">
            <div class="frame">
              <svg viewBox="0 0 1200 650" style="width:100%; height:100%; pointer-events:none;">
                <text x="600" y="90" text-anchor="middle" font-size="28" fill="#fff">Safe row changes</text>

                <rect x="130" y="220" width="260" height="160" rx="14" fill="rgba(255,255,255,0.06)"
                  stroke="rgba(255,255,255,0.35)" stroke-width="2" />
                <text x="260" y="285" text-anchor="middle" font-size="22" fill="#fff">SELECT</text>
                <text x="260" y="320" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">preview
                  rows</text>

                <text x="430" y="305" text-anchor="middle" font-size="42" fill="rgba(255,255,255,0.85)">→</text>

                <rect x="470" y="220" width="260" height="160" rx="14" fill="rgba(255,255,255,0.06)"
                  stroke="rgba(255,255,255,0.35)" stroke-width="2" />
                <text x="600" y="285" text-anchor="middle" font-size="22" fill="#fff">CHANGE</text>
                <text x="600" y="320" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">INSERT / UPDATE
                  / DELETE</text>

                <text x="770" y="305" text-anchor="middle" font-size="42" fill="rgba(255,255,255,0.85)">→</text>

                <rect x="810" y="220" width="260" height="160" rx="14" fill="rgba(255,255,255,0.06)"
                  stroke="rgba(255,255,255,0.35)" stroke-width="2" />
                <text x="940" y="285" text-anchor="middle" font-size="22" fill="#fff">SELECT</text>
                <text x="940" y="320" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">confirm
                  rows</text>

                <text x="600" y="470" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">
                  Traditional discipline: verify first, then change.
                </text>
              </svg>
            </div>
          </div>
        </section>

        <!-- ===================================================== -->
        <!-- PART 1: INSERT (10 slides) -->
        <!-- ===================================================== -->

        <section>
          <h3>Part 1: Insert</h3>
          <p class="muted">Goal: add new rows using INSERT, INTO, VALUES, and INSERT FROM SELECT.</p>
        </section>

        <section>
          <h3>Agenda (Insert)</h3>
          <ul>
            <li>Concept: new rows</li>
            <li>Primary key and auto increment</li>
            <li>Diagram: row added</li>
            <li>Syntax: INSERT INTO VALUES</li>
            <li>Insert multiple rows</li>
            <li>Insert without specifying id</li>
            <li>SELECT to verify</li>
            <li>Insert from SELECT</li>
            <li>Naming conventions</li>
            <li>Common errors and mitigation</li>
          </ul>
        </section>

        <section>
          <h3>Primary key and auto increment (insert planning)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li><strong>Primary key</strong> uniquely identifies a row</li>
                <li><strong>Auto increment</strong> lets the database create the id</li>
                <li>Habit: do not guess ids when auto increment is available</li>
                <li>Use SELECT to confirm the generated id</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- SQLite style:
-- flower_id INTEGER PRIMARY KEY AUTOINCREMENT

-- Insert without flower_id:
INSERT INTO flowers (name, color, price, stock)
VALUES ('Lily', 'White', 4.50, 40);</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Diagram: primary key targets a row</h3>
          <div class="full-visual">
            <div class="frame">
              <svg viewBox="0 0 1200 650" style="width:100%; height:100%; pointer-events:none;">
                <text x="600" y="90" text-anchor="middle" font-size="28" fill="#fff">Primary key (PK) is the
                  anchor</text>

                <rect x="180" y="160" width="840" height="380" rx="22" fill="rgba(255,255,255,0.06)"
                  stroke="rgba(255,255,255,0.35)" stroke-width="3" />
                <text x="600" y="205" text-anchor="middle" font-size="20" fill="rgba(255,255,255,0.85)">
                  WHERE flower_id = 101 targets exactly one row
                </text>

                <rect x="240" y="250" width="720" height="70" rx="14" fill="rgba(255,255,255,0.07)"
                  stroke="rgba(255,255,255,0.22)" stroke-width="2" />
                <text x="320" y="295" text-anchor="middle" font-size="16" fill="#fff">flower_id (PK)</text>
                <text x="500" y="295" text-anchor="middle" font-size="16" fill="#fff">name</text>
                <text x="680" y="295" text-anchor="middle" font-size="16" fill="#fff">color</text>
                <text x="850" y="295" text-anchor="middle" font-size="16" fill="#fff">price</text>

                <rect x="240" y="340" width="720" height="70" rx="14" fill="rgba(255,255,255,0.06)"
                  stroke="rgba(255,255,255,0.55)" stroke-width="3" />
                <text x="320" y="385" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.95)">101</text>
                <text x="500" y="385" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.95)">Rose</text>
                <text x="680" y="385" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.95)">Red</text>
                <text x="850" y="385" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.95)">3.99</text>

                <text x="600" y="500" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">
                  Keys first, then actions. This is how we stay precise.
                </text>
              </svg>
            </div>
          </div>
        </section>

        <section>
          <h3>Diagram: INSERT adds a new row</h3>
          <div class="full-visual">
            <div class="frame">
              <svg viewBox="0 0 1200 650" style="width:100%; height:100%; pointer-events:none;">
                <rect x="140" y="120" width="920" height="420" rx="22" fill="rgba(255,255,255,0.06)"
                  stroke="rgba(255,255,255,0.35)" stroke-width="4" />
                <text x="600" y="170" text-anchor="middle" font-size="30" fill="#fff">Table: flowers</text>
                <text x="600" y="205" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">
                  INSERT adds a new row at the bottom
                </text>

                <rect x="190" y="250" width="820" height="70" rx="14" fill="rgba(255,255,255,0.07)"
                  stroke="rgba(255,255,255,0.22)" stroke-width="2" />
                <text x="300" y="295" text-anchor="middle" font-size="16" fill="#fff">flower_id</text>
                <text x="480" y="295" text-anchor="middle" font-size="16" fill="#fff">name</text>
                <text x="660" y="295" text-anchor="middle" font-size="16" fill="#fff">color</text>
                <text x="840" y="295" text-anchor="middle" font-size="16" fill="#fff">price</text>

                <rect x="190" y="335" width="820" height="70" rx="14" fill="rgba(255,255,255,0.03)"
                  stroke="rgba(255,255,255,0.18)" stroke-width="2" />
                <text x="300" y="380" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.9)">101</text>
                <text x="480" y="380" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.9)">Rose</text>
                <text x="660" y="380" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.9)">Red</text>
                <text x="840" y="380" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.9)">3.99</text>

                <rect x="190" y="420" width="820" height="70" rx="14" fill="rgba(255,255,255,0.06)"
                  stroke="rgba(255,255,255,0.55)" stroke-width="3" />
                <text x="300" y="465" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.95)">102</text>
                <text x="480" y="465" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.95)">Tulip</text>
                <text x="660" y="465" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.95)">Yellow</text>
                <text x="840" y="465" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.95)">2.49</text>
              </svg>
            </div>
          </div>
        </section>

        <section>
          <h3>Insert row (explicit id)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Use when ids are managed manually</li>
                <li>Must not duplicate an existing id</li>
                <li>Primary key must be unique</li>
                <li>Verify with SELECT</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">INSERT INTO flowers (flower_id, name, color, price, stock)
VALUES (102, 'Tulip', 'Yellow', 2.49, 80);</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Insert row (auto increment id)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Preferred when the database generates ids</li>
                <li>Omit the primary key column</li>
                <li>Less error prone than manual ids</li>
                <li>Confirm the inserted row after</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">INSERT INTO flowers (name, color, price, stock)
VALUES ('Lily', 'White', 4.50, 40);</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Insert multiple rows (batch)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Efficient for loading initial data</li>
                <li>Readable when kept small</li>
                <li>Use stable ordering and spacing</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">INSERT INTO flowers (name, color, price, stock)
VALUES
  ('Daisy', 'White', 1.50, 60),
  ('Orchid', 'Purple', 5.99, 20),
  ('Carnation', 'Pink', 2.25, 55);</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Select and inspect after insert</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Confirm new rows exist</li>
                <li>Use ORDER BY for stable review</li>
                <li>Check price and stock values</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT flower_id, name, color, price, stock
FROM flowers
ORDER BY flower_id;</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Insert from SELECT (same table, copy pattern)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Insert rows produced by a query</li>
                <li>Useful for copying and transforming</li>
                <li>Keep it controlled with WHERE</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Copy all white flowers as "Ivory" variants
INSERT INTO flowers (name, color, price, stock)
SELECT name || ' (Ivory)', 'Ivory', price, stock
FROM flowers
WHERE color = 'White';</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Insert naming conventions</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Use <code>flower_id</code> for primary key</li>
                <li>Keep column names descriptive</li>
                <li>Avoid reserved words</li>
                <li>Use underscores consistently</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Good
flower_id
created_at
price_cents

-- Risky
id
date
order</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Common insert errors and mitigation</h3>
          <table class="big">
            <thead>
              <tr>
                <th>Error pattern</th>
                <th>Cause</th>
                <th>Mitigation</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Column count mismatch</td>
                <td>Values do not align</td>
                <td>List columns; match order and count</td>
              </tr>
              <tr>
                <td>Constraint failure</td>
                <td>NOT NULL or UNIQUE</td>
                <td>Insert required fields; validate inputs</td>
              </tr>
              <tr>
                <td>Type mismatch</td>
                <td>Wrong value type</td>
                <td>Use correct types; cast if needed</td>
              </tr>
              <tr>
                <td>Primary key conflict</td>
                <td>Duplicate id</td>
                <td>Use auto increment or verify ids first</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- ===================================================== -->
        <!-- PART 2: UPDATE (10 slides) -->
        <!-- ===================================================== -->

        <section>
          <h3>Part 2: Update</h3>
          <p class="muted">Goal: modify existing rows using UPDATE and SET safely.</p>
        </section>

        <section>
          <h3>Agenda (Update)</h3>
          <ul>
            <li>Concept: change rows</li>
            <li>Primary key in WHERE</li>
            <li>Diagram: row edited</li>
            <li>Syntax: UPDATE SET</li>
            <li>Update multiple columns</li>
            <li>Update with math</li>
            <li>Preview with SELECT</li>
            <li>Confirm with SELECT</li>
            <li>Naming conventions</li>
            <li>Common errors and mitigation</li>
          </ul>
        </section>

        <section>
          <h3>Primary key in WHERE (update safely)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Use primary key to target one row</li>
                <li>Without WHERE, UPDATE can change the whole table</li>
                <li>Preview with SELECT using the same WHERE</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Preview
SELECT flower_id, name, price
FROM flowers
WHERE flower_id = 101;

-- Update (same filter)
UPDATE flowers
SET price = 4.25
WHERE flower_id = 101;</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Diagram: UPDATE edits a value</h3>
          <div class="full-visual">
            <div class="frame">
              <svg viewBox="0 0 1200 650" style="width:100%; height:100%; pointer-events:none;">
                <rect x="140" y="120" width="920" height="420" rx="22" fill="rgba(255,255,255,0.06)"
                  stroke="rgba(255,255,255,0.35)" stroke-width="4" />
                <text x="600" y="170" text-anchor="middle" font-size="30" fill="#fff">Table: flowers</text>
                <text x="600" y="205" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">
                  UPDATE edits existing rows
                </text>

                <rect x="190" y="250" width="820" height="70" rx="14" fill="rgba(255,255,255,0.07)"
                  stroke="rgba(255,255,255,0.22)" stroke-width="2" />
                <text x="300" y="295" text-anchor="middle" font-size="16" fill="#fff">flower_id</text>
                <text x="480" y="295" text-anchor="middle" font-size="16" fill="#fff">name</text>
                <text x="660" y="295" text-anchor="middle" font-size="16" fill="#fff">price</text>
                <text x="840" y="295" text-anchor="middle" font-size="16" fill="#fff">stock</text>

                <rect x="190" y="335" width="820" height="70" rx="14" fill="rgba(255,255,255,0.06)"
                  stroke="rgba(255,255,255,0.55)" stroke-width="3" />
                <text x="300" y="380" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.95)">101</text>
                <text x="480" y="380" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.95)">Rose</text>
                <text x="660" y="380" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.95)">3.99 →
                  4.25</text>
                <text x="840" y="380" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.95)">100</text>
              </svg>
            </div>
          </div>
        </section>

        <section>
          <h3>Update one column</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Use UPDATE and SET</li>
                <li>WHERE targets the row</li>
                <li>Prefer primary key filter</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">UPDATE flowers
SET price = 4.25
WHERE flower_id = 101;</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Update multiple columns</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Set more than one value</li>
                <li>Keep alignment readable</li>
                <li>Still one statement</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">UPDATE flowers
SET price = 4.25,
    color = 'Deep Red'
WHERE flower_id = 101;</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Update with math (bulk update)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Useful for controlled price changes</li>
                <li>Always include WHERE for the intended subset</li>
                <li>Preview with SELECT first</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Preview
SELECT flower_id, name, price
FROM flowers
WHERE color = 'Red';

-- Change
UPDATE flowers
SET price = price * 1.10
WHERE color = 'Red';</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Update stock (increment or decrement)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Stock changes are common</li>
                <li>Use + and - carefully</li>
                <li>Confirm after update</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Receive new inventory shipment
UPDATE flowers
SET stock = stock + 25
WHERE flower_id = 103;

-- Correct an overcount
UPDATE flowers
SET stock = stock - 5
WHERE flower_id = 103;</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Select to confirm update</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Confirm the row matches expectation</li>
                <li>Confirm you changed only what you intended</li>
                <li>Use the same WHERE as the update</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT flower_id, name, color, price, stock
FROM flowers
WHERE flower_id = 103;</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Update naming conventions</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Use stable column names</li>
                <li>Use <code>_id</code> for keys</li>
                <li>Prefer clear numeric names</li>
                <li>Keep it consistent across tables</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Good
flower_id
price
stock

-- Risky
val
num
data</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Common update errors and mitigation</h3>
          <table class="big">
            <thead>
              <tr>
                <th>Error pattern</th>
                <th>Cause</th>
                <th>Mitigation</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Updated too many rows</td>
                <td>Missing WHERE</td>
                <td>SELECT first; use WHERE always</td>
              </tr>
              <tr>
                <td>No rows updated</td>
                <td>Wrong filter</td>
                <td>Confirm key values before updating</td>
              </tr>
              <tr>
                <td>Unexpected price math</td>
                <td>Wrong multiplier</td>
                <td>Preview with SELECT; test on one row first</td>
              </tr>
              <tr>
                <td>Invalid value</td>
                <td>Type or constraint issue</td>
                <td>Validate inputs; keep domain rules simple</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- ===================================================== -->
        <!-- PART 3: DELETE (10 slides) -->
        <!-- ===================================================== -->

        <section>
          <h3>Part 3: Delete</h3>
          <p class="muted">Goal: remove rows safely using DELETE and WHERE.</p>
        </section>

        <section>
          <h3>Agenda (Delete)</h3>
          <ul>
            <li>Concept: remove rows</li>
            <li>Primary key in WHERE</li>
            <li>Diagram: row removed</li>
            <li>Preview with SELECT</li>
            <li>DELETE ... WHERE</li>
            <li>Delete a subset (by rule)</li>
            <li>Confirm after delete</li>
            <li>Soft delete (concept)</li>
            <li>Naming conventions</li>
            <li>Common errors and mitigation</li>
          </ul>
        </section>

        <section>
          <h3>Primary key in WHERE (delete safely)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Delete should target a specific row when possible</li>
                <li>Primary key gives precision</li>
                <li>Preview first using the same WHERE</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Preview
SELECT *
FROM flowers
WHERE flower_id = 102;

-- Delete (same filter)
DELETE FROM flowers
WHERE flower_id = 102;</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Diagram: DELETE removes a row</h3>
          <div class="full-visual">
            <div class="frame">
              <svg viewBox="0 0 1200 650" style="width:100%; height:100%; pointer-events:none;">
                <rect x="140" y="120" width="920" height="420" rx="22" fill="rgba(255,255,255,0.06)"
                  stroke="rgba(255,255,255,0.35)" stroke-width="4" />
                <text x="600" y="170" text-anchor="middle" font-size="30" fill="#fff">Table: flowers</text>
                <text x="600" y="205" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">
                  DELETE removes rows
                </text>

                <rect x="190" y="250" width="820" height="70" rx="14" fill="rgba(255,255,255,0.07)"
                  stroke="rgba(255,255,255,0.22)" stroke-width="2" />
                <text x="300" y="295" text-anchor="middle" font-size="16" fill="#fff">flower_id</text>
                <text x="480" y="295" text-anchor="middle" font-size="16" fill="#fff">name</text>
                <text x="660" y="295" text-anchor="middle" font-size="16" fill="#fff">color</text>
                <text x="840" y="295" text-anchor="middle" font-size="16" fill="#fff">price</text>

                <rect x="190" y="335" width="820" height="70" rx="14" fill="rgba(255,255,255,0.02)"
                  stroke="rgba(255,255,255,0.25)" stroke-width="2" stroke-dasharray="10 8" />
                <text x="300" y="380" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.6)">102</text>
                <text x="480" y="380" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.6)">Tulip</text>
                <text x="660" y="380" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.6)">Yellow</text>
                <text x="840" y="380" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.6)">2.49</text>

                <text x="600" y="470" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.75)">
                  Row removed after DELETE
                </text>
              </svg>
            </div>
          </div>
        </section>

        <section>
          <h3>Preview delete with SELECT</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Preview the exact set of rows</li>
                <li>Confirm the key</li>
                <li>Do not delete blind</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT flower_id, name, color, price
FROM flowers
WHERE flower_id = 102;</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Delete one row ⚠️</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li class="warn">⚠️ Deletes data</li>
                <li>Always use WHERE</li>
                <li>Prefer primary key filter</li>
                <li>Confirm after delete</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">DELETE FROM flowers
WHERE flower_id = 102;</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Delete a subset (rule based)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Sometimes you remove a group of rows</li>
                <li>Use a careful WHERE rule</li>
                <li>Preview with SELECT first</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Preview candidates
SELECT flower_id, name, stock
FROM flowers
WHERE stock = 0;

-- Delete after review
DELETE FROM flowers
WHERE stock = 0;</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Confirm after delete</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Confirm the row is gone</li>
                <li>Confirm no other rows were removed</li>
                <li>Use a stable ORDER BY</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT flower_id, name, color, price, stock
FROM flowers
ORDER BY flower_id;</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Soft delete pattern (concept)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Sometimes we mark rows instead of removing them</li>
                <li>Common approach: <code>is_active</code> or <code>deleted_at</code></li>
                <li>Queries then filter out inactive rows</li>
                <li>Safer for audit and recovery</li>
              </ul>
              <p class="tiny muted">This is a common real world compromise between safety and simplicity.</p>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Concept if column exists:
-- UPDATE flowers
-- SET is_active = 0
-- WHERE flower_id = 102;

-- Query habit:
-- WHERE is_active = 1</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Delete naming conventions</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Use primary key columns in filters</li>
                <li>Use stable, narrow WHERE clauses</li>
                <li>Avoid ambiguous text matches</li>
                <li>Keep identifiers predictable</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Good filters
WHERE flower_id = 102
WHERE stock = 0

-- Risky filters
WHERE name = 'Rose'</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Common delete errors and mitigation</h3>
          <table class="big">
            <thead>
              <tr>
                <th>Error pattern</th>
                <th>Cause</th>
                <th>Mitigation</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Deleted too many rows</td>
                <td>Missing WHERE</td>
                <td>SELECT first; use WHERE always</td>
              </tr>
              <tr>
                <td>Deleted the wrong rows</td>
                <td>Wrong filter</td>
                <td>Preview with SELECT and confirm keys</td>
              </tr>
              <tr>
                <td>Cannot recover</td>
                <td>No backups / no soft delete</td>
                <td>Use backups; consider soft delete</td>
              </tr>
              <tr>
                <td>Deleted nothing</td>
                <td>Filter did not match</td>
                <td>Verify row exists before deleting</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- ===================================================== -->
        <!-- MODULE 2 RECAP -->
        <!-- ===================================================== -->

        <section>
          <h3>Module 2 recap</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li><strong>INSERT</strong> adds new rows</li>
                <li><strong>UPDATE</strong> modifies existing rows</li>
                <li><strong>DELETE</strong> removes rows</li>
                <li><strong>Primary key</strong> identifies a row</li>
                <li><strong>Auto increment</strong> avoids manual id errors</li>
                <li><strong>SELECT + WHERE</strong> is the safety habit</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Safe habit (repeat it)
SELECT ... WHERE ...;   -- preview
INSERT / UPDATE / DELETE ...;
SELECT ... WHERE ...;   -- confirm</code></pre>
            </div>
          </div>
        </section>

      </section>

      <!-- MODULE 3 -->
      <section id="module-3">

        <!-- ===================================================== -->
        <!-- 1. TITLE -->
        <!-- ===================================================== -->
        <section>
          <h2>Module 3</h2>
          <h3>SQL Queries: SELECT, FROM, WHERE, GROUP BY, HAVING</h3>
          <p class="muted">SELECT · FROM · WHERE · GROUP · BY · HAVING</p>
        </section>

        <!-- ===================================================== -->
        <!-- 2. MODULE GOAL -->
        <!-- ===================================================== -->
        <section>
          <h3>Module goal</h3>
          <ul>
            <li>Read data correctly</li>
            <li>Understand query meaning</li>
            <li>Separate rows from groups</li>
            <li>Avoid logical mistakes</li>
          </ul>
        </section>

        <!-- ===================================================== -->
        <!-- 3. DOMAIN -->
        <!-- ===================================================== -->
        <section>
          <h3>Domain table: bicycle_orders</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Single table only</li>
                <li>Each row is one order</li>
                <li>bike_type creates groups</li>
                <li>quantity supports aggregation</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">bicycle_orders(
  order_id   INTEGER PRIMARY KEY,
  bike_type  TEXT,
  quantity   INTEGER
);</code></pre>
            </div>
          </div>
        </section>

        <!-- ===================================================== -->
        <!-- 4. SAMPLE DATA TABLE -->
        <!-- ===================================================== -->
        <section>
          <h3>Sample data</h3>
          <table class="big">
            <thead>
              <tr>
                <th>order_id</th>
                <th>bike_type</th>
                <th>quantity</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td>Road</td>
                <td>2</td>
              </tr>
              <tr>
                <td>2</td>
                <td>Road</td>
                <td>1</td>
              </tr>
              <tr>
                <td>3</td>
                <td>Road</td>
                <td>3</td>
              </tr>
              <tr>
                <td>4</td>
                <td>Mountain</td>
                <td>4</td>
              </tr>
              <tr>
                <td>5</td>
                <td>Mountain</td>
                <td>2</td>
              </tr>
              <tr>
                <td>6</td>
                <td>Hybrid</td>
                <td>6</td>
              </tr>
              <tr>
                <td>7</td>
                <td>Hybrid</td>
                <td>1</td>
              </tr>
              <tr>
                <td>8</td>
                <td>BMX</td>
                <td>5</td>
              </tr>
              <tr>
                <td>9</td>
                <td>BMX</td>
                <td>2</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- ===================================================== -->
        <!-- 5. MINI HIGHLIGHT -->
        <!-- ===================================================== -->
        <section>
          <h2>Rows come first</h2>
        </section>

        <!-- ===================================================== -->
        <!-- 6. QUERY PIPELINE DIAGRAM -->
        <!-- ===================================================== -->
        <section>
          <h3>Query pipeline (concept)</h3>
          <svg viewBox="0 0 1000 300" style="width:100%; height:auto;">

            <!-- FROM -->
            <rect x="50" y="100" width="180" height="80" rx="12" fill="rgba(255,255,255,0.08)"
              stroke="rgba(255,255,255,0.6)" stroke-width="3" />
            <text x="140" y="150" text-anchor="middle" fill="#ffffff" font-size="22" font-weight="600">FROM</text>

            <!-- WHERE -->
            <rect x="280" y="100" width="180" height="80" rx="12" fill="rgba(255,255,255,0.08)"
              stroke="rgba(255,255,255,0.6)" stroke-width="3" />
            <text x="370" y="150" text-anchor="middle" fill="#ffffff" font-size="22" font-weight="600">WHERE</text>

            <!-- GROUP BY -->
            <rect x="510" y="100" width="180" height="80" rx="12" fill="rgba(255,255,255,0.08)"
              stroke="rgba(255,255,255,0.6)" stroke-width="3" />
            <text x="600" y="150" text-anchor="middle" fill="#ffffff" font-size="22" font-weight="600">GROUP BY</text>

            <!-- HAVING -->
            <rect x="740" y="100" width="180" height="80" rx="12" fill="rgba(255,255,255,0.08)"
              stroke="rgba(255,255,255,0.6)" stroke-width="3" />
            <text x="830" y="150" text-anchor="middle" fill="#ffffff" font-size="22" font-weight="600">HAVING</text>

          </svg>
        </section>


        <!-- ===================================================== -->
        <!-- 7. CLAUSE ROLES -->
        <!-- ===================================================== -->
        <section>
          <h3>Clause roles</h3>
          <table class="big">
            <thead>
              <tr>
                <th>Clause</th>
                <th>Role</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>FROM</td>
                <td>Select table</td>
              </tr>
              <tr>
                <td>WHERE</td>
                <td>Filter rows</td>
              </tr>
              <tr>
                <td>GROUP BY</td>
                <td>Create groups</td>
              </tr>
              <tr>
                <td>HAVING</td>
                <td>Filter groups</td>
              </tr>
              <tr>
                <td>SELECT</td>
                <td>Display result</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- ===================================================== -->
        <!-- 8. SELECT + FROM -->
        <!-- ===================================================== -->
        <section>
          <h3>SELECT and FROM</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>FROM chooses scope</li>
                <li>SELECT chooses columns</li>
                <li>No filtering yet</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT order_id, bike_type, quantity
FROM bicycle_orders;</code></pre>
            </div>
          </div>
        </section>

        <!-- ===================================================== -->
        <!-- 9. SELECT STAR -->
        <!-- ===================================================== -->
        <section>
          <h3>SELECT *</h3>
          <pre><code class="language-sql">SELECT *
FROM bicycle_orders;</code></pre>
        </section>

        <!-- ===================================================== -->
        <!-- 10. MINI HIGHLIGHT -->
        <!-- ===================================================== -->
        <section>
          <h2>Select intentionally</h2>
        </section>

        <!-- ===================================================== -->
        <!-- 11. WHERE INTRO -->
        <!-- ===================================================== -->
        <section>
          <h3>WHERE clause</h3>
          <ul>
            <li>Filters rows</li>
            <li>Before grouping</li>
            <li>No aggregates allowed</li>
          </ul>
        </section>

        <!-- ===================================================== -->
        <!-- 12. WHERE EXAMPLE -->
        <!-- ===================================================== -->
        <section>
          <div class="split">
            <div class="left">
              <h4>Concept</h4>
              <ul>
                <li>Keep only large orders</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT *
FROM bicycle_orders
WHERE quantity &gt; 3;</code></pre>
            </div>
          </div>
        </section>

        <!-- ===================================================== -->
        <!-- 13. WHERE TEXT -->
        <!-- ===================================================== -->
        <section>
          <pre><code class="language-sql">SELECT *
FROM bicycle_orders
WHERE bike_type = 'Road';</code></pre>
        </section>

        <!-- ===================================================== -->
        <!-- 14. WHERE AND -->
        <!-- ===================================================== -->
        <section>
          <pre><code class="language-sql">SELECT *
FROM bicycle_orders
WHERE bike_type = 'BMX'
  AND quantity &gt;= 2;</code></pre>
        </section>

        <!-- ===================================================== -->
        <!-- 15. MINI HIGHLIGHT -->
        <!-- ===================================================== -->
        <section>
          <h2>WHERE filters rows</h2>
        </section>

        <!-- ===================================================== -->
        <!-- 16. GROUP BY INTRO -->
        <!-- ===================================================== -->
        <section>
          <h3>GROUP BY concept</h3>
          <ul>
            <li>Rows collapse into groups</li>
            <li>One row per group</li>
            <li>Requires aggregates</li>
          </ul>
        </section>

        <!-- ===================================================== -->
        <!-- 17. ROWS BEFORE GROUPING -->
        <!-- ===================================================== -->
        <section>
          <h3>Rows before grouping</h3>
          <table class="big">
            <thead>
              <tr>
                <th>bike_type</th>
                <th>quantity</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Road</td>
                <td>2</td>
              </tr>
              <tr>
                <td>Road</td>
                <td>1</td>
              </tr>
              <tr>
                <td>Road</td>
                <td>3</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- ===================================================== -->
        <!-- 18. GROUP FORMATION -->
        <!-- ===================================================== -->
        <section>
          <h3>Groups formed</h3>
          <table class="big">
            <thead>
              <tr>
                <th>bike_type</th>
                <th>values</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Road</td>
                <td>2, 1, 3</td>
              </tr>
              <tr>
                <td>Mountain</td>
                <td>4, 2</td>
              </tr>
              <tr>
                <td>Hybrid</td>
                <td>6, 1</td>
              </tr>
              <tr>
                <td>BMX</td>
                <td>5, 2</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- ===================================================== -->
        <!-- 19. GROUP BY COUNT -->
        <!-- ===================================================== -->
        <section>
          <pre><code class="language-sql">SELECT bike_type, COUNT(*) AS total_orders
FROM bicycle_orders
GROUP BY bike_type;</code></pre>
        </section>

        <!-- ===================================================== -->
        <!-- 20. GROUP BY SUM -->
        <!-- ===================================================== -->
        <section>
          <pre><code class="language-sql">SELECT bike_type, SUM(quantity) AS total_quantity
FROM bicycle_orders
GROUP BY bike_type;</code></pre>
        </section>

        <!-- ===================================================== -->
        <!-- 21. GROUP RESULT TABLE -->
        <!-- ===================================================== -->
        <section>
          <table class="big">
            <thead>
              <tr>
                <th>bike_type</th>
                <th>total_quantity</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Road</td>
                <td>6</td>
              </tr>
              <tr>
                <td>Mountain</td>
                <td>6</td>
              </tr>
              <tr>
                <td>Hybrid</td>
                <td>7</td>
              </tr>
              <tr>
                <td>BMX</td>
                <td>7</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- ===================================================== -->
        <!-- 22. MINI HIGHLIGHT -->
        <!-- ===================================================== -->
        <section>
          <h2>Groups summarize rows</h2>
        </section>

        <!-- ===================================================== -->
        <!-- 23. HAVING INTRO -->
        <!-- ===================================================== -->
        <section>
          <h3>HAVING concept</h3>
          <ul>
            <li>Filters groups</li>
            <li>Uses aggregates</li>
            <li>After GROUP BY</li>
          </ul>
        </section>

        <!-- ===================================================== -->
        <!-- 24. HAVING EXAMPLE -->
        <!-- ===================================================== -->
        <section>
          <pre><code class="language-sql">SELECT bike_type, SUM(quantity) AS total_quantity
FROM bicycle_orders
GROUP BY bike_type
HAVING SUM(quantity) &gt; 6;</code></pre>
        </section>

        <!-- ===================================================== -->
        <!-- 25. HAVING RESULT TABLE -->
        <!-- ===================================================== -->
        <section>
          <table class="big">
            <thead>
              <tr>
                <th>bike_type</th>
                <th>total_quantity</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Hybrid</td>
                <td>7</td>
              </tr>
              <tr>
                <td>BMX</td>
                <td>7</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- ===================================================== -->
        <!-- 26. MINI HIGHLIGHT -->
        <!-- ===================================================== -->
        <section>
          <h2>HAVING filters groups</h2>
        </section>

        <!-- ===================================================== -->
        <!-- 27. WHERE VS HAVING -->
        <!-- ===================================================== -->
        <section>
          <table class="big">
            <thead>
              <tr>
                <th>WHERE</th>
                <th>HAVING</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Row filter</td>
                <td>Group filter</td>
              </tr>
              <tr>
                <td>No aggregates</td>
                <td>Uses aggregates</td>
              </tr>
              <tr>
                <td>Before grouping</td>
                <td>After grouping</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- ===================================================== -->
        <!-- 28. FULL QUERY -->
        <!-- ===================================================== -->
        <section>
          <pre><code class="language-sql">SELECT bike_type, SUM(quantity) AS total_quantity
FROM bicycle_orders
WHERE quantity &gt;= 2
GROUP BY bike_type
HAVING SUM(quantity) &gt; 5;</code></pre>
        </section>

        <!-- ===================================================== -->
        <!-- 29. QUERY WALKTHROUGH -->
        <!-- ===================================================== -->
        <section>
          <ol>
            <li>Start with bicycle_orders</li>
            <li>Keep rows with quantity ≥ 2</li>
            <li>Group by bike_type</li>
            <li>Keep groups with total &gt; 5</li>
            <li>Display result</li>
          </ol>
        </section>

        <!-- ===================================================== -->
        <!-- 31–50 RECAP & REINFORCEMENT -->
        <!-- ===================================================== -->

        <section>
          <h3>Common mistake: WHERE with SUM</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>WHERE works on rows</li>
                <li>SUM works on groups</li>
                <li>This combination is invalid</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Incorrect
SELECT bike_type, SUM(quantity)
FROM bicycle_orders
WHERE SUM(quantity) > 5
GROUP BY bike_type;</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Fix: use HAVING</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>HAVING filters groups</li>
                <li>Aggregates belong here</li>
                <li>Runs after GROUP BY</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Correct
SELECT bike_type, SUM(quantity)
FROM bicycle_orders
GROUP BY bike_type
HAVING SUM(quantity) > 5;</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Common mistake: missing GROUP BY</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Mixing aggregates and columns</li>
                <li>DBMS cannot infer grouping</li>
                <li>Leads to errors or ambiguity</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Incorrect
SELECT bike_type, SUM(quantity)
FROM bicycle_orders;</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Fix: group non aggregates</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Every non aggregate column</li>
                <li>Must appear in GROUP BY</li>
                <li>This defines the grouping key</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Correct
SELECT bike_type, SUM(quantity)
FROM bicycle_orders
GROUP BY bike_type;</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Practice reading queries</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Read top to bottom</li>
                <li>Translate to plain language</li>
                <li>Do not rush to execution</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT bike_type, COUNT(*)
FROM bicycle_orders
GROUP BY bike_type;</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Practice predicting output</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Look at input rows</li>
                <li>Form groups mentally</li>
                <li>Compute results before running</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT bike_type, SUM(quantity)
FROM bicycle_orders
GROUP BY bike_type;</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Practice drawing tables</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Sketch rows first</li>
                <li>Then sketch groups</li>
                <li>Visual thinking reduces errors</li>
              </ul>
            </div>
            <div class="right">
              <pre><code>Road      → 2 + 1 + 3 = 6
Mountain  → 4 + 2     = 6
Hybrid    → 6 + 1     = 7
BMX       → 5 + 2     = 7</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Rows → Groups → Filter</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>WHERE filters rows</li>
                <li>GROUP BY forms groups</li>
                <li>HAVING filters groups</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT bike_type, SUM(quantity)
FROM bicycle_orders
WHERE quantity >= 2
GROUP BY bike_type
HAVING SUM(quantity) > 5;</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>SQL is declarative</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>You state what you want</li>
                <li>Not how to compute it</li>
              </ul>
            </div>
            <div class="right">
              <pre><code>-- You describe the result,
-- not the algorithm.</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>You describe results</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Focus on output shape</li>
                <li>Columns and rows matter</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT bike_type, COUNT(*)
FROM bicycle_orders
GROUP BY bike_type;</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Clarity</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Readable queries survive</li>
                <li>Explicit is better than clever</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Prefer this:
SELECT bike_type, SUM(quantity)
FROM bicycle_orders
GROUP BY bike_type;</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Readable queries</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Others must maintain this</li>
                <li>You will revisit it later</li>
              </ul>
            </div>
            <div class="right">
              <pre><code>-- Clear structure
-- Predictable formatting
-- Minimal surprises</code></pre>
            </div>
          </div>
        </section>

        <section>
          <h3>Module 3 complete</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Rows vs groups understood</li>
                <li>WHERE vs HAVING clear</li>
                <li>Query flow internalized</li>
              </ul>
            </div>
            <div class="right">
              <pre><code>SELECT → WHERE → GROUP BY → HAVING
A complete mental model</code></pre>
            </div>
          </div>
        </section>

      </section>

      <!-- MODULE 4 -->
      <!-- ========================================================= -->
      <!-- MODULE 4: ORDER, DISTINCT, AS, ALL, LIMIT, OFFSET (RETAIL) -->
      <!-- PostgreSQL focus + SQLite comparison tables                -->
      <!-- ========================================================= -->
      <section id="module-4">

        <!-- 01 — Diagram (cover) -->
        <section>
          <h2>Module 4</h2>
          <h3>PostgreSQL Query Refinement</h3>
          <p class="muted">ORDER · DISTINCT · AS · ALL · LIMIT · OFFSET</p>
          <svg width="100%" height="260" viewBox="0 0 1200 260" role="img" aria-label="Retail pipeline diagram">
            <rect x="60" y="70" width="260" height="120" rx="16" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="190" y="125" text-anchor="middle" font-size="28" fill="rgba(255,255,255,0.92)">Retail Data</text>
            <text x="190" y="160" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.75)">tables + rows</text>

            <rect x="470" y="70" width="260" height="120" rx="16" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="600" y="125" text-anchor="middle" font-size="28" fill="rgba(255,255,255,0.92)">SELECT</text>
            <text x="600" y="160" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.75)">refine output</text>

            <rect x="880" y="70" width="260" height="120" rx="16" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="1010" y="125" text-anchor="middle" font-size="28" fill="rgba(255,255,255,0.92)">Results</text>
            <text x="1010" y="160" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.75)">sorted / unique /
              paged</text>

            <line x1="320" y1="130" x2="470" y2="130" stroke="rgba(255,255,255,0.35)" stroke-width="4" />
            <polygon points="470,130 455,122 455,138" fill="rgba(255,255,255,0.35)" />

            <line x1="730" y1="130" x2="880" y2="130" stroke="rgba(255,255,255,0.35)" stroke-width="4" />
            <polygon points="880,130 865,122 865,138" fill="rgba(255,255,255,0.35)" />
          </svg>
        </section>

        <!-- 02 — Split (goals) -->
        <section>
          <h3>Module goal</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Build a retail schema</li>
                <li>Practice query refinement clauses</li>
                <li>Compare PostgreSQL to SQLite where it matters</li>
                <li>Keep output predictable and readable</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- This module adds "shape controls" to SELECT:
-- DISTINCT, AS, ORDER BY, LIMIT, OFFSET, ALL</code></pre>
            </div>
          </div>
        </section>

        <!-- 03 — Diagram (schema overview) -->
        <section>
          <h3>Retail schema map</h3>
          <svg width="100%" height="300" viewBox="0 0 1200 300" role="img" aria-label="Retail schema diagram">
            <!-- customers -->
            <rect x="70" y="50" width="300" height="90" rx="14" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="220" y="95" text-anchor="middle" font-size="24" fill="rgba(255,255,255,0.9)">customers</text>
            <text x="220" y="125" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">customer_id
              (PK)</text>

            <!-- orders -->
            <rect x="450" y="50" width="300" height="90" rx="14" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="600" y="95" text-anchor="middle" font-size="24" fill="rgba(255,255,255,0.9)">orders</text>
            <text x="600" y="125" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">order_id (PK),
              customer_id (FK)</text>

            <!-- products -->
            <rect x="70" y="190" width="300" height="90" rx="14" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="220" y="235" text-anchor="middle" font-size="24" fill="rgba(255,255,255,0.9)">products</text>
            <text x="220" y="265" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">product_id
              (PK)</text>

            <!-- order_items -->
            <rect x="450" y="190" width="300" height="90" rx="14" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="600" y="235" text-anchor="middle" font-size="24" fill="rgba(255,255,255,0.9)">order_items</text>
            <text x="600" y="265" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">(order_id,
              product_id)</text>

            <!-- arrows (relationships) -->
            <line x1="370" y1="95" x2="450" y2="95" stroke="rgba(255,255,255,0.35)" stroke-width="4" />
            <polygon points="450,95 435,87 435,103" fill="rgba(255,255,255,0.35)" />

            <line x1="600" y1="140" x2="600" y2="190" stroke="rgba(255,255,255,0.35)" stroke-width="4" />
            <polygon points="600,190 592,175 608,175" fill="rgba(255,255,255,0.35)" />

            <line x1="370" y1="235" x2="450" y2="235" stroke="rgba(255,255,255,0.35)" stroke-width="4" />
            <polygon points="450,235 435,227 435,243" fill="rgba(255,255,255,0.35)" />
          </svg>
        </section>

        <!-- 04 — Split (create tables intro) -->
        <section>
          <h3>Create the tables first</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Start with a small, clear schema</li>
                <li>Primary keys: stable identifiers</li>
                <li>Foreign keys: enforce valid references</li>
                <li>Then we refine output using Module 4 clauses</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Recommended order:
-- 1) customers
-- 2) products
-- 3) orders (FK -> customers)
-- 4) order_items (FK -> orders/products)</code></pre>
            </div>
          </div>
        </section>

        <!-- 05 — Split (CREATE customers) -->
        <section>
          <h3>CREATE TABLE customers</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>One row per customer</li>
                <li>City becomes useful for DISTINCT + ORDER BY</li>
                <li>Use <span class="highlight">SERIAL</span> for demo simplicity</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">CREATE TABLE customers (
  customer_id SERIAL PRIMARY KEY,
  name        TEXT NOT NULL,
  city        TEXT NOT NULL
);</code></pre>
            </div>
          </div>
        </section>

        <!-- 06 — Split (CREATE products) -->
        <section>
          <h3>CREATE TABLE products</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>One row per product</li>
                <li>Category supports DISTINCT</li>
                <li>Price supports ORDER BY</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">CREATE TABLE products (
  product_id SERIAL PRIMARY KEY,
  name       TEXT NOT NULL,
  category   TEXT NOT NULL,
  price      NUMERIC(10,2) NOT NULL
);</code></pre>
            </div>
          </div>
        </section>

        <!-- 07 — Split (CREATE orders) -->
        <section>
          <h3>CREATE TABLE orders</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>One row per order</li>
                <li>Date supports ORDER BY + LIMIT</li>
                <li>Total supports ORDER BY</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">CREATE TABLE orders (
  order_id      SERIAL PRIMARY KEY,
  customer_id   INTEGER NOT NULL REFERENCES customers(customer_id),
  order_date    DATE NOT NULL,
  total_amount  NUMERIC(10,2) NOT NULL
);</code></pre>
            </div>
          </div>
        </section>

        <!-- 08 — Split (CREATE order_items) -->
        <section>
          <h3>CREATE TABLE order_items</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Stores quantities per order</li>
                <li>Composite key prevents duplicates</li>
                <li>We will query single tables only in this module</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">CREATE TABLE order_items (
  order_id   INTEGER NOT NULL REFERENCES orders(order_id),
  product_id INTEGER NOT NULL REFERENCES products(product_id),
  quantity   INTEGER NOT NULL CHECK (quantity > 0),
  PRIMARY KEY (order_id, product_id)
);</code></pre>
            </div>
          </div>
        </section>

        <!-- 09 — Split (seed data) -->
        <section>
          <h3>Insert small sample data</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Data: 3 to 6 rows per table</li>
                <li>Enough to see duplicates + sorting</li>
                <li>Keep values realistic</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">INSERT INTO customers(name, city) VALUES
('Ava', 'Stockton'),
('Noah','Sacramento'),
('Mia', 'Stockton');

INSERT INTO products(name, category, price) VALUES
('USB-C Cable', 'Accessories', 9.99),
('Laptop Stand','Accessories', 29.99),
('Notebook',    'Stationery',  3.49);

INSERT INTO orders(customer_id, order_date, total_amount) VALUES
(1, DATE '2026-02-01', 39.98),
(2, DATE '2026-02-02',  3.49),
(1, DATE '2026-02-03',  9.99);</code></pre>
            </div>
          </div>
        </section>

        <!-- 10 — Table (types + IDs: SQLite vs Postgres) -->
        <section>
          <h3>Comparison: IDs and types</h3>
          <table class="table">
            <thead>
              <tr>
                <th>Topic</th>
                <th>SQLite</th>
                <th>PostgreSQL</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Auto increment id</td>
                <td><code>INTEGER PRIMARY KEY AUTOINCREMENT</code></td>
                <td><code>SERIAL</code> (demo) or <code>GENERATED AS IDENTITY</code></td>
              </tr>
              <tr>
                <td>Money type</td>
                <td>Often stored as <code>REAL</code> or cents as <code>INTEGER</code></td>
                <td><code>NUMERIC(10,2)</code> common</td>
              </tr>
              <tr>
                <td>Date type</td>
                <td>Stored as TEXT/INTEGER/REAL by convention</td>
                <td><code>DATE</code> is native</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- 11 — Diagram (DISTINCT concept) -->
        <section>
          <h3>DISTINCT concept</h3>
          <svg width="100%" height="260" viewBox="0 0 1200 260" role="img" aria-label="Distinct removes duplicates">
            <rect x="90" y="60" width="420" height="140" rx="16" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="300" y="105" text-anchor="middle" font-size="24" fill="rgba(255,255,255,0.9)">Input rows</text>
            <text x="300" y="140" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.75)">Stockton,
              Sacramento, Stockton</text>

            <rect x="690" y="60" width="420" height="140" rx="16" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="900" y="105" text-anchor="middle" font-size="24" fill="rgba(255,255,255,0.9)">DISTINCT
              output</text>
            <text x="900" y="140" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.75)">Stockton,
              Sacramento</text>

            <line x1="510" y1="130" x2="690" y2="130" stroke="rgba(255,255,255,0.35)" stroke-width="4" />
            <polygon points="690,130 675,122 675,138" fill="rgba(255,255,255,0.35)" />
          </svg>
        </section>

        <!-- 12 — Split (DISTINCT example) -->
        <section>
          <h3>DISTINCT: unique cities</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>One column = unique values in that column</li>
                <li>Common for dropdown filters</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT DISTINCT city
FROM customers
ORDER BY city;</code></pre>
            </div>
          </div>
        </section>

        <!-- 13 — Split (DISTINCT multi column) -->
        <section>
          <h3>DISTINCT: multiple columns</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Uniqueness applies to the full row (tuple)</li>
                <li>Useful for “unique pairs”</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT DISTINCT city, name
FROM customers
ORDER BY city, name;</code></pre>
            </div>
          </div>
        </section>

        <!-- 14 — Split (DISTINCT without joins) -->
        <section>
          <h3>DISTINCT: unique product categories</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Single table example (no relationships needed)</li>
                <li>Great for filters and admin menus</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT DISTINCT category
FROM products
ORDER BY category;</code></pre>
            </div>
          </div>
        </section>

        <!-- 15 — Table (DISTINCT comparison) -->
        <section>
          <h3>Comparison: DISTINCT behavior</h3>
          <table class="table">
            <thead>
              <tr>
                <th>Item</th>
                <th>SQLite</th>
                <th>PostgreSQL</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>DISTINCT meaning</td>
                <td>Removes duplicate result rows</td>
                <td>Removes duplicate result rows</td>
              </tr>
              <tr>
                <td>Interaction with ORDER BY</td>
                <td>Works; keep ORDER BY explicit</td>
                <td>Works; keep ORDER BY explicit</td>
              </tr>
              <tr>
                <td>Good habit</td>
                <td>Use for unique labels, not as a “fix”</td>
                <td>Use for unique labels, not as a “fix”</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- 16 — Diagram (AS concept) -->
        <section>
          <h3>AS concept</h3>
          <svg width="100%" height="260" viewBox="0 0 1200 260" role="img" aria-label="Alias naming diagram">
            <rect x="120" y="70" width="420" height="120" rx="16" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="330" y="120" text-anchor="middle" font-size="22" fill="rgba(255,255,255,0.9)">Expression</text>
            <text x="330" y="155" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.75)">total_amount *
              1.08</text>

            <rect x="660" y="70" width="420" height="120" rx="16" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="870" y="120" text-anchor="middle" font-size="22" fill="rgba(255,255,255,0.9)">Alias</text>
            <text x="870" y="155" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.75)">AS
              total_with_tax</text>

            <line x1="540" y1="130" x2="660" y2="130" stroke="rgba(255,255,255,0.35)" stroke-width="4" />
            <polygon points="660,130 645,122 645,138" fill="rgba(255,255,255,0.35)" />
          </svg>
        </section>

        <!-- 17 — Split (AS column alias) -->
        <section>
          <h3>AS: rename columns</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Alias improves readability</li>
                <li>Especially in wide SELECT output</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT
  order_id,
  total_amount AS order_total
FROM orders;</code></pre>
            </div>
          </div>
        </section>

        <!-- 18 — Split (AS computed columns without joins) -->
        <section>
          <h3>AS: computed columns (single table)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Compute a derived value</li>
                <li>Example: estimated tax at 8%</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT
  order_id,
  total_amount,
  (total_amount * 0.08) AS est_tax,
  (total_amount * 1.08) AS total_with_tax
FROM orders
ORDER BY order_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- 19 — Split (AS in ORDER BY) -->
        <section>
          <h3>AS + ORDER BY</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Order by alias for clarity</li>
                <li>Prefer explicit ORDER BY in reports</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT
  order_id,
  total_amount AS total
FROM orders
ORDER BY total DESC;</code></pre>
            </div>
          </div>
        </section>

        <!-- 20 — Table (alias rules comparison) -->
        <section>
          <h3>Comparison: aliases</h3>
          <table class="table">
            <thead>
              <tr>
                <th>Topic</th>
                <th>SQLite</th>
                <th>PostgreSQL</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Basic alias</td>
                <td><code>expr AS alias</code></td>
                <td><code>expr AS alias</code></td>
              </tr>
              <tr>
                <td>Quoting alias with spaces</td>
                <td><code>AS "Order Total"</code></td>
                <td><code>AS "Order Total"</code></td>
              </tr>
              <tr>
                <td>Best practice</td>
                <td>snake_case aliases</td>
                <td>snake_case aliases</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- 21 — Diagram (ORDER BY concept) -->
        <section>
          <h3>ORDER BY concept</h3>
          <svg width="100%" height="260" viewBox="0 0 1200 260" role="img" aria-label="Ordering output diagram">
            <rect x="120" y="70" width="420" height="120" rx="16" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="330" y="120" text-anchor="middle" font-size="22" fill="rgba(255,255,255,0.9)">Unsorted</text>
            <text x="330" y="155" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.75)">29.99, 3.49,
              9.99</text>

            <rect x="660" y="70" width="420" height="120" rx="16" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="870" y="120" text-anchor="middle" font-size="22" fill="rgba(255,255,255,0.9)">ORDER BY price</text>
            <text x="870" y="155" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.75)">3.49, 9.99,
              29.99</text>

            <line x1="540" y1="130" x2="660" y2="130" stroke="rgba(255,255,255,0.35)" stroke-width="4" />
            <polygon points="660,130 645,122 645,138" fill="rgba(255,255,255,0.35)" />
          </svg>
        </section>

        <!-- 22 — Split (ORDER BY asc) -->
        <section>
          <h3>ORDER BY ascending</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Ascending is default</li>
                <li>Good for price lists</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT name, price
FROM products
ORDER BY price;</code></pre>
            </div>
          </div>
        </section>

        <!-- 23 — Split (ORDER BY desc) -->
        <section>
          <h3>ORDER BY descending</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Use DESC for “top spenders / biggest orders”</li>
                <li>Common in dashboards</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT order_id, total_amount
FROM orders
ORDER BY total_amount DESC;</code></pre>
            </div>
          </div>
        </section>

        <!-- 24 — Split (ORDER BY multiple columns) -->
        <section>
          <h3>ORDER BY multiple columns</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Sort by city first, then by name</li>
                <li>Produces stable, readable lists</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT city, name
FROM customers
ORDER BY city ASC, name ASC;</code></pre>
            </div>
          </div>
        </section>

        <!-- 25 — Split (ORDER BY best practice with LIMIT) -->
        <section>
          <h3>ORDER BY + LIMIT habit</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Top N requires ORDER BY</li>
                <li>Without ORDER BY, “top” is meaningless</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Top 3 most expensive products
SELECT name, price
FROM products
ORDER BY price DESC
LIMIT 3;</code></pre>
            </div>
          </div>
        </section>

        <!-- 26 — Table (NULL ordering comparison) -->
        <section>
          <h3>Comparison: ordering NULLs</h3>
          <table class="table">
            <thead>
              <tr>
                <th>Goal</th>
                <th>SQLite</th>
                <th>PostgreSQL</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Put NULLs last</td>
                <td>Workaround: <code>ORDER BY (col IS NULL), col</code></td>
                <td>Supports <code>NULLS LAST</code> / <code>NULLS FIRST</code></td>
              </tr>
              <tr>
                <td>Put NULLs first</td>
                <td>Workaround: <code>ORDER BY (col IS NOT NULL), col</code></td>
                <td><code>ORDER BY col NULLS FIRST</code></td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- 27 — Diagram (LIMIT concept) -->
        <section>
          <h3>LIMIT concept</h3>
          <svg width="100%" height="260" viewBox="0 0 1200 260" role="img"
            aria-label="Limit takes first rows after ordering">
            <rect x="110" y="80" width="980" height="100" rx="16" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="600" y="125" text-anchor="middle" font-size="22" fill="rgba(255,255,255,0.9)">ORDER BY defines the
              line; LIMIT takes the first N</text>
            <text x="600" y="160" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.75)">Think: “top 10”,
              “latest 20”, “first page”</text>
          </svg>
        </section>

        <!-- 28 — Split (LIMIT simple) -->
        <section>
          <h3>LIMIT: first rows</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Quick sample of a table</li>
                <li>Use ORDER BY if you care which rows</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT *
FROM customers
LIMIT 2;</code></pre>
            </div>
          </div>
        </section>

        <!-- 29 — Split (LIMIT latest orders) -->
        <section>
          <h3>LIMIT: latest orders</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Latest requires date ordering</li>
                <li>Classic audit query</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT order_id, order_date, total_amount
FROM orders
ORDER BY order_date DESC
LIMIT 10;</code></pre>
            </div>
          </div>
        </section>

        <!-- 30 — Split (Postgres LIMIT ALL) -->
        <section>
          <h3>PostgreSQL: LIMIT ALL</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li><code>LIMIT ALL</code> means “no limit”</li>
                <li>Equivalent to omitting LIMIT</li>
                <li>Mostly seen in generated SQL</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- PostgreSQL
SELECT *
FROM products
LIMIT ALL;  -- same as no LIMIT</code></pre>
            </div>
          </div>
        </section>

        <!-- 31 — Table (LIMIT syntax comparison) -->
        <section>
          <h3>Comparison: LIMIT</h3>
          <table class="table">
            <thead>
              <tr>
                <th>Pattern</th>
                <th>SQLite</th>
                <th>PostgreSQL</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Return first N rows</td>
                <td><code>LIMIT 10</code></td>
                <td><code>LIMIT 10</code></td>
              </tr>
              <tr>
                <td>No limit keyword</td>
                <td>Omit LIMIT</td>
                <td><code>LIMIT ALL</code> or omit LIMIT</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- 32 — Diagram (OFFSET concept) -->
        <section>
          <h3>OFFSET concept</h3>
          <svg width="100%" height="260" viewBox="0 0 1200 260" role="img" aria-label="Offset skips rows">
            <rect x="110" y="80" width="980" height="100" rx="16" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="600" y="125" text-anchor="middle" font-size="22" fill="rgba(255,255,255,0.9)">OFFSET skips rows;
              useful for pagination</text>
            <text x="600" y="160" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.75)">Combine with ORDER
              BY to keep pages stable</text>
          </svg>
        </section>

        <!-- 33 — Split (OFFSET only) -->
        <section>
          <h3>OFFSET: skip rows</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Skipping without LIMIT returns “the rest”</li>
                <li>Always pair with ORDER BY</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT order_id, order_date
FROM orders
ORDER BY order_date DESC
OFFSET 10;</code></pre>
            </div>
          </div>
        </section>

        <!-- 34 — Split (LIMIT + OFFSET pagination) -->
        <section>
          <h3>LIMIT + OFFSET: page 2</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Page size = 10</li>
                <li>Page 2 = skip 10, take 10</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT order_id, order_date, total_amount
FROM orders
ORDER BY order_date DESC
LIMIT 10 OFFSET 10;</code></pre>
            </div>
          </div>
        </section>

        <!-- 35 — Split (keyset pagination alternative) -->
        <section>
          <h3>Pagination: keyset alternative</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>OFFSET can get slow on large tables</li>
                <li>Keyset uses “last seen” value</li>
                <li>Stable for “load more” patterns</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Suppose last page ended at order_date = '2026-02-01'
SELECT order_id, order_date, total_amount
FROM orders
WHERE order_date < DATE '2026-02-01'
ORDER BY order_date DESC
LIMIT 10;</code></pre>
            </div>
          </div>
        </section>

        <!-- 36 — Table (OFFSET comparison) -->
        <section>
          <h3>Comparison: OFFSET</h3>
          <table class="table">
            <thead>
              <tr>
                <th>Topic</th>
                <th>SQLite</th>
                <th>PostgreSQL</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Syntax</td>
                <td><code>LIMIT n OFFSET m</code></td>
                <td><code>LIMIT n OFFSET m</code></td>
              </tr>
              <tr>
                <td>Performance note</td>
                <td>Large OFFSET may still scan many rows</td>
                <td>Large OFFSET may still scan many rows</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- 37 — Diagram (ALL concept) -->
        <section>
          <h3>ALL concept</h3>
          <svg width="100%" height="280" viewBox="0 0 1200 280" role="img"
            aria-label="ALL comparison against set diagram">
            <rect x="90" y="70" width="460" height="140" rx="16" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="320" y="115" text-anchor="middle" font-size="22" fill="rgba(255,255,255,0.9)">Compare a
              value</text>
            <text x="320" y="150" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.75)">price > ALL
              (subquery prices)</text>

            <rect x="650" y="70" width="460" height="140" rx="16" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="880" y="115" text-anchor="middle" font-size="22" fill="rgba(255,255,255,0.9)">Meaning</text>
            <text x="880" y="150" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.75)">greater than every
              value in the set</text>

            <line x1="550" y1="140" x2="650" y2="140" stroke="rgba(255,255,255,0.35)" stroke-width="4" />
            <polygon points="650,140 635,132 635,148" fill="rgba(255,255,255,0.35)" />
          </svg>
        </section>

        <!-- 38 — Split (ALL example products) -->
        <section>
          <h3>ALL: pricier than all Accessories</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Single table + subquery</li>
                <li>Reads like “greater than the maximum”</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT name, price
FROM products
WHERE price > ALL (
  SELECT price
  FROM products
  WHERE category = 'Accessories'
)
ORDER BY price;</code></pre>
            </div>
          </div>
        </section>

        <!-- 39 — Split (ALL example orders per customer) -->
        <section>
          <h3>ALL: orders bigger than all orders of a customer</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Single table + subquery</li>
                <li>Good for “outlier spend” checks</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT order_id, total_amount
FROM orders
WHERE total_amount > ALL (
  SELECT total_amount
  FROM orders
  WHERE customer_id = 1
)
ORDER BY total_amount DESC;</code></pre>
            </div>
          </div>
        </section>

        <!-- 40 — Split (rewrite ALL using MAX) -->
        <section>
          <h3>Rewrite ALL using MAX</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Often clearer for teams</li>
                <li>Same meaning as the ALL example</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT name, price
FROM products
WHERE price > (
  SELECT MAX(price)
  FROM products
  WHERE category = 'Accessories'
)
ORDER BY price;</code></pre>
            </div>
          </div>
        </section>

        <!-- 41 — Table (ALL support comparison) -->
        <section>
          <h3>Comparison: ALL support</h3>
          <table class="table">
            <thead>
              <tr>
                <th>Feature</th>
                <th>SQLite</th>
                <th>PostgreSQL</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>ALL</code> with subqueries</td>
                <td>Not commonly supported</td>
                <td>Supported</td>
              </tr>
              <tr>
                <td>Portable alternative</td>
                <td><code>MAX()</code>, <code>MIN()</code>, or a subquery with aggregates</td>
                <td><code>ALL</code> or <code>MAX()</code>/<code>MIN()</code></td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- 42 — Split (ORDER + DISTINCT together) -->
        <section>
          <h3>DISTINCT + ORDER BY: clean labels</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Common admin pattern</li>
                <li>Unique values + sorted for humans</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT DISTINCT category
FROM products
ORDER BY category;</code></pre>
            </div>
          </div>
        </section>

        <!-- 43 — Split (AS + computed + ORDER without joins) -->
        <section>
          <h3>AS + computed + ORDER BY (single table)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Sort by derived metric</li>
                <li>Example: total with tax</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT
  order_id,
  total_amount,
  (total_amount * 1.08) AS total_with_tax
FROM orders
ORDER BY total_with_tax DESC
LIMIT 10;</code></pre>
            </div>
          </div>
        </section>

        <!-- 44 — Diagram (query refinement ladder) -->
        <section>
          <h3>Refinement ladder</h3>
          <svg width="100%" height="300" viewBox="0 0 1200 300" role="img" aria-label="Refinement ladder diagram">
            <rect x="120" y="60" width="960" height="200" rx="18" fill="rgba(255,255,255,0.05)"
              stroke="rgba(255,255,255,0.22)" stroke-width="2" />
            <text x="200" y="115" font-size="20" fill="rgba(255,255,255,0.85)">1) Columns</text>
            <text x="200" y="155" font-size="20" fill="rgba(255,255,255,0.85)">2) Names (AS)</text>
            <text x="200" y="195" font-size="20" fill="rgba(255,255,255,0.85)">3) Uniqueness (DISTINCT)</text>

            <text x="680" y="115" font-size="20" fill="rgba(255,255,255,0.85)">4) Order (ORDER BY)</text>
            <text x="680" y="155" font-size="20" fill="rgba(255,255,255,0.85)">5) Size (LIMIT)</text>
            <text x="680" y="195" font-size="20" fill="rgba(255,255,255,0.85)">6) Pages (OFFSET)</text>

            <text x="600" y="250" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.70)">ALL is a set
              comparison tool (PostgreSQL feature)</text>
          </svg>
        </section>

        <!-- 45 — Split (exercise 1) -->
        <section>
          <h3>Practice 1: unique cities</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Return unique customer cities</li>
                <li>Sort alphabetically</li>
                <li>One row per city</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT DISTINCT city
FROM customers
ORDER BY city;</code></pre>
            </div>
          </div>
        </section>

        <!-- 46 — Split (exercise 2) -->
        <section>
          <h3>Practice 2: top 5 orders</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Show the 5 largest orders</li>
                <li>Rename total_amount to total</li>
                <li>Sort descending</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT order_id, total_amount AS total
FROM orders
ORDER BY total DESC
LIMIT 5;</code></pre>
            </div>
          </div>
        </section>

        <!-- 47 — Diagram (pagination UI) -->
        <section>
          <h3>Pagination in a UI</h3>
          <svg width="100%" height="260" viewBox="0 0 1200 260" role="img" aria-label="Pagination UI diagram">
            <rect x="120" y="70" width="960" height="120" rx="18" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="240" y="130" text-anchor="middle" font-size="20" fill="rgba(255,255,255,0.85)">Page 1</text>
            <text x="600" y="130" text-anchor="middle" font-size="20" fill="rgba(255,255,255,0.85)">Page 2</text>
            <text x="960" y="130" text-anchor="middle" font-size="20" fill="rgba(255,255,255,0.85)">Page 3</text>

            <text x="240" y="165" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.70)">LIMIT 10 OFFSET
              0</text>
            <text x="600" y="165" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.70)">LIMIT 10 OFFSET
              10</text>
            <text x="960" y="165" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.70)">LIMIT 10 OFFSET
              20</text>
          </svg>
        </section>

        <!-- 48 — Table (clause summary) -->
        <section>
          <h3>Clause summary</h3>
          <table class="table">
            <thead>
              <tr>
                <th>Clause</th>
                <th>Purpose</th>
                <th>Retail example</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>DISTINCT</code></td>
                <td>Remove duplicates</td>
                <td>Unique cities / categories</td>
              </tr>
              <tr>
                <td><code>AS</code></td>
                <td>Rename for clarity</td>
                <td><code>total_amount AS total</code></td>
              </tr>
              <tr>
                <td><code>ORDER BY</code></td>
                <td>Sort results</td>
                <td>Most recent orders first</td>
              </tr>
              <tr>
                <td><code>LIMIT</code></td>
                <td>Return first N rows</td>
                <td>Top 10 by value</td>
              </tr>
              <tr>
                <td><code>OFFSET</code></td>
                <td>Skip rows</td>
                <td>Pagination</td>
              </tr>
              <tr>
                <td><code>ALL</code></td>
                <td>Compare to every value in a set</td>
                <td>Price above all in a category</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- 49 — Split (cheat sheet) -->
        <section>
          <h3>Summary</h3>
          <div class="split">
            <div class="left">
              <ul class="tight">
                <li><strong>DISTINCT</strong>: unique rows in output</li>
                <li><strong>AS</strong>: readable names</li>
                <li><strong>ORDER BY</strong>: define “top” and “latest”</li>
                <li><strong>LIMIT</strong>: cap the result size</li>
                <li><strong>OFFSET</strong>: page through results</li>
                <li><strong>ALL</strong>: set comparison (PostgreSQL)</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT DISTINCT category AS cat
FROM products
ORDER BY cat
LIMIT 10 OFFSET 0;</code></pre>
            </div>
          </div>
        </section>

        <!-- 50 — Diagram (checkpoint) -->
        <section>
          <svg width="100%" height="260" viewBox="0 0 1200 260" role="img" aria-label="Checkpoint diagram">
            <rect x="140" y="70" width="920" height="140" rx="18" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="600" y="120" text-anchor="middle" font-size="22" fill="rgba(255,255,255,0.9)">Before you run a
              query, estimate what it returns.</text>
            <text x="600" y="160" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.75)">Unique? Sorted? How
              many rows? Which page?</text>
          </svg>
        </section>

      </section>

      <!-- MODULE 5 -->
      <!-- ========================================================= -->
      <!-- MODULE 5: JOINS (BICYCLE RENTAL)                           -->
      <!-- JOIN · INNER · LEFT · RIGHT · FULL · OUTER                 -->
      <!-- PostgreSQL focus + SQLite comparison tables                -->
      <!-- ========================================================= -->
      <section id="module-5">

        <!-- 01 — Diagram (cover) -->
        <section>
          <h2>Module 5</h2>
          <h3>PostgreSQL Joins</h3>
          <p class="muted">JOIN · INNER · LEFT · RIGHT · FULL · OUTER</p>

          <svg width="100%" height="260" viewBox="0 0 1200 260" role="img"
            aria-label="Bicycle rental join pipeline diagram">
            <rect x="60" y="70" width="300" height="120" rx="16" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="210" y="125" text-anchor="middle" font-size="28" fill="rgba(255,255,255,0.92)">Bike Rental
              Data</text>
            <text x="210" y="160" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.75)">tables + keys</text>

            <rect x="450" y="70" width="300" height="120" rx="16" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="600" y="125" text-anchor="middle" font-size="28" fill="rgba(255,255,255,0.92)">JOIN</text>
            <text x="600" y="160" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.75)">match rows by
              keys</text>

            <rect x="840" y="70" width="300" height="120" rx="16" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="990" y="125" text-anchor="middle" font-size="28" fill="rgba(255,255,255,0.92)">Results</text>
            <text x="990" y="160" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.75)">combined
              columns</text>

            <line x1="360" y1="130" x2="450" y2="130" stroke="rgba(255,255,255,0.35)" stroke-width="4" />
            <polygon points="450,130 435,122 435,138" fill="rgba(255,255,255,0.35)" />

            <line x1="750" y1="130" x2="840" y2="130" stroke="rgba(255,255,255,0.35)" stroke-width="4" />
            <polygon points="840,130 825,122 825,138" fill="rgba(255,255,255,0.35)" />
          </svg>
        </section>

        <!-- 02 — Split (goals) -->
        <section>
          <h3>Module goal</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Build a small bicycle rental schema</li>
                <li>Use keys to combine data across tables</li>
                <li>Practice INNER, LEFT, RIGHT, FULL OUTER joins</li>
                <li>Learn common mistakes: missing or wrong ON</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- The habit:
-- FROM + JOIN ... ON ...
-- Choose join type based on "who must appear"
-- Always verify row counts</code></pre>
            </div>
          </div>
        </section>

        <!-- 03 — Diagram (schema overview) -->
        <section>
          <h3>Bicycle rental schema map</h3>
          <svg width="100%" height="320" viewBox="0 0 1200 320" role="img" aria-label="Bicycle rental schema diagram">
            <!-- riders -->
            <rect x="70" y="50" width="330" height="95" rx="14" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="235" y="92" text-anchor="middle" font-size="24" fill="rgba(255,255,255,0.9)">riders</text>
            <text x="235" y="125" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">rider_id (PK)</text>

            <!-- bikes -->
            <rect x="70" y="200" width="330" height="95" rx="14" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="235" y="242" text-anchor="middle" font-size="24" fill="rgba(255,255,255,0.9)">bikes</text>
            <text x="235" y="275" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">bike_id (PK)</text>

            <!-- rentals -->
            <rect x="470" y="120" width="390" height="95" rx="14" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="665" y="162" text-anchor="middle" font-size="24" fill="rgba(255,255,255,0.9)">rentals</text>
            <text x="665" y="195" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">rental_id (PK),
              rider_id (FK), bike_id (FK)</text>

            <!-- stations -->
            <rect x="930" y="50" width="220" height="95" rx="14" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="1040" y="92" text-anchor="middle" font-size="24" fill="rgba(255,255,255,0.9)">stations</text>
            <text x="1040" y="125" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">station_id
              (PK)</text>

            <!-- returns (optional relationship) -->
            <rect x="930" y="200" width="220" height="95" rx="14" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="1040" y="242" text-anchor="middle" font-size="24" fill="rgba(255,255,255,0.9)">returns</text>
            <text x="1040" y="275" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">rental_id
              (PK/FK)</text>

            <!-- arrows -->
            <line x1="400" y1="98" x2="470" y2="155" stroke="rgba(255,255,255,0.35)" stroke-width="1" />
            <line x1="400" y1="248" x2="470" y2="180" stroke="rgba(255,255,255,0.35)" stroke-width="1" />
            <line x1="860" y1="155" x2="930" y2="98" stroke="rgba(255,255,255,0.35)" stroke-width="1" />
            <line x1="860" y1="180" x2="930" y2="248" stroke="rgba(255,255,255,0.35)" stroke-width="1" />
          </svg>
        </section>

        <!-- 04 — Split (create tables intro) -->
        <section>
          <h3>Create the tables first</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Keep keys explicit and stable</li>
                <li>Foreign keys express relationships</li>
                <li>Joins depend on matching keys</li>
                <li>Start small; add complexity later</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Recommended order:
-- 1) riders
-- 2) bikes
-- 3) stations
-- 4) rentals (FK -> riders/bikes/stations)
-- 5) returns (optional FK -> rentals)</code></pre>
            </div>
          </div>
        </section>

        <!-- 05 — Split (CREATE riders) -->
        <section>
          <h3>CREATE TABLE riders</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>One row per rider</li>
                <li>City supports grouping later</li>
                <li>Email is realistic for uniqueness</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">CREATE TABLE riders (
  rider_id  SERIAL PRIMARY KEY,
  name      TEXT NOT NULL,
  city      TEXT NOT NULL,
  email     TEXT UNIQUE
);</code></pre>
            </div>
          </div>
        </section>

        <!-- 06 — Split (CREATE bikes) -->
        <section>
          <h3>CREATE TABLE bikes</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>One row per bike</li>
                <li>Status helps show “unrented bikes”</li>
                <li>Type supports reporting</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">CREATE TABLE bikes (
  bike_id   SERIAL PRIMARY KEY,
  bike_type TEXT NOT NULL,     -- road, city, e-bike
  status    TEXT NOT NULL      -- available, maintenance
);</code></pre>
            </div>
          </div>
        </section>

        <!-- 07 — Split (CREATE stations) -->
        <section>
          <h3>CREATE TABLE stations</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Pickup and dropoff locations</li>
                <li>Neighborhood supports filters</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">CREATE TABLE stations (
  station_id   SERIAL PRIMARY KEY,
  name         TEXT NOT NULL,
  neighborhood TEXT NOT NULL
);</code></pre>
            </div>
          </div>
        </section>

        <!-- 08 — Split (CREATE rentals) -->
        <section>
          <h3>CREATE TABLE rentals</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Fact table: each rental event</li>
                <li>Contains multiple foreign keys</li>
                <li>Return time can be NULL (still riding)</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql" style="font-size: 7pt;">CREATE TABLE rentals (
  rental_id           SERIAL PRIMARY KEY,
  rider_id            INTEGER NOT NULL REFERENCES riders(rider_id),
  bike_id             INTEGER NOT NULL REFERENCES bikes(bike_id),
  pickup_station_id   INTEGER NOT NULL REFERENCES stations(station_id),
  pickup_ts           TIMESTAMP NOT NULL,
  dropoff_station_id  INTEGER REFERENCES stations(station_id),
  dropoff_ts          TIMESTAMP
);</code></pre>
            </div>
          </div>
        </section>

        <!-- 09 — Split (seed data) -->
        <section>
          <h3>Sample data</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Include “missing” relationships on purpose</li>
                <li>At least one rider with no rentals</li>
                <li>At least one bike never rented</li>
                <li>At least one active rental (no dropoff yet)</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql" style="font-size: 7pt;">INSERT INTO riders(name, city, email) VALUES
('Ava',  'Stockton',    'ava@example.com'),
('Noah', 'Sacramento',  'noah@example.com'),
('Mia',  'Stockton',    'mia@example.com'),
('Liam', 'Lodi',        'liam@example.com');  -- no rentals

INSERT INTO bikes(bike_type, status) VALUES
('city', 'available'),
('road', 'available'),
('e-bike','maintenance'),
('city', 'available');  -- never rented

INSERT INTO stations(name, neighborhood) VALUES
('Downtown Dock', 'Downtown'),
('Campus Rack',   'University'),
('River Trail',   'Waterfront');

INSERT INTO rentals(rider_id, bike_id, pickup_station_id, pickup_ts, dropoff_station_id, dropoff_ts) VALUES
(1, 1, 1, TIMESTAMP '2026-02-10 09:00', 2, TIMESTAMP '2026-02-10 09:25'),
(2, 2, 2, TIMESTAMP '2026-02-10 10:00', 1, TIMESTAMP '2026-02-10 10:18'),
(1, 2, 1, TIMESTAMP '2026-02-11 08:10', NULL, NULL); -- active ride</code></pre>
            </div>
          </div>
        </section>

        <!-- 10 — Diagram (what a join does) -->
        <section>
          <h3>Join concept</h3>
          <svg width="100%" height="280" viewBox="0 0 1200 280" role="img"
            aria-label="Join combines columns from two tables">
            <rect x="90" y="70" width="420" height="140" rx="16" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="300" y="108" text-anchor="middle" font-size="22" fill="rgba(255,255,255,0.9)">rentals</text>
            <text x="300" y="145" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">rental_id, rider_id,
              bike_id</text>

            <rect x="690" y="70" width="420" height="140" rx="16" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="900" y="108" text-anchor="middle" font-size="22" fill="rgba(255,255,255,0.9)">riders</text>
            <text x="900" y="145" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">rider_id, name,
              city</text>

            <line x1="510" y1="140" x2="690" y2="140" stroke="rgba(255,255,255,0.35)" stroke-width="4" />
            <polygon points="690,140 675,132 675,148" fill="rgba(255,255,255,0.35)" />

            <text x="600" y="245" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.72)">
              Match rentals.rider_id = riders.rider_id to add rider columns
            </text>
          </svg>
        </section>

        <!-- 11 — Split (base join syntax) -->
        <section>
          <h3>JOIN syntax (base pattern)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li><code>JOIN</code> without a keyword means <strong>INNER JOIN</strong></li>
                <li>Always include <code>ON</code> with the key match</li>
                <li>Use table aliases for readability</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT
  r.rental_id,
  rd.name AS rider_name,
  r.pickup_ts
FROM rentals r
JOIN riders rd
  ON r.rider_id = rd.rider_id
ORDER BY r.rental_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- 12 — Table (join type meaning) -->
        <section>
          <h3>Join types: what stays in the output</h3>
          <table class="table" style="font-size: 12pt;">
            <thead>
              <tr>
                <th>Join type</th>
                <th>Keep rows from left table?</th>
                <th>Keep rows from right table?</th>
                <th>Typical question</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>INNER JOIN</code></td>
                <td>Only matched</td>
                <td>Only matched</td>
                <td>“Show rentals with rider info”</td>
              </tr>
              <tr>
                <td><code>LEFT JOIN</code></td>
                <td>All left rows</td>
                <td>Matched when possible</td>
                <td>“Show all riders, even with no rentals”</td>
              </tr>
              <tr>
                <td><code>RIGHT JOIN</code></td>
                <td>Matched when possible</td>
                <td>All right rows</td>
                <td>“Show all bikes, even never rented” (if bikes is right)</td>
              </tr>
              <tr>
                <td><code>FULL OUTER JOIN</code></td>
                <td>All left rows</td>
                <td>All right rows</td>
                <td>“Show everything; highlight gaps”</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- 13 — Diagram (INNER join Venn) -->
        <section>
          <h3>INNER JOIN concept</h3>
          <svg width="100%" height="260" viewBox="0 0 1200 260" role="img"
            aria-label="Inner join keeps only the overlap">
            <circle cx="520" cy="130" r="85" fill="rgba(255,255,255,0.06)" stroke="rgba(255,255,255,0.25)"
              stroke-width="2" />
            <circle cx="680" cy="130" r="85" fill="rgba(255,255,255,0.06)" stroke="rgba(255,255,255,0.25)"
              stroke-width="2" />
            <ellipse cx="600" cy="130" rx="40" ry="85" fill="rgba(255,255,255,0.14)" />
            <text x="520" y="135" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">rentals</text>
            <text x="680" y="135" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">riders</text>
            <text x="600" y="230" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.72)">Only rows that match
              on the ON condition</text>
          </svg>
        </section>

        <!-- 14 — Split (INNER join example) -->
        <section>
          <h3>INNER JOIN: rentals with rider names</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Most common join</li>
                <li>Only matched rows appear</li>
                <li>Good default for “fact + dimension”</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT
  r.rental_id,
  rd.name AS rider,
  rd.city,
  r.pickup_ts,
  r.dropoff_ts
FROM rentals r
INNER JOIN riders rd
  ON r.rider_id = rd.rider_id
ORDER BY r.pickup_ts;</code></pre>
            </div>
          </div>
        </section>

        <!-- 15 — Split (multi-join example) -->
        <section>
          <h3>Multiple joins: rider + bike + pickup station</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Join is composable</li>
                <li>Each join adds columns</li>
                <li>Keep ON conditions close to the join</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT
  r.rental_id,
  rd.name     AS rider,
  b.bike_type AS bike,
  s.name      AS pickup_station,
  r.pickup_ts
FROM rentals r
JOIN riders   rd ON r.rider_id = rd.rider_id
JOIN bikes    b  ON r.bike_id  = b.bike_id
JOIN stations s  ON r.pickup_station_id = s.station_id
ORDER BY r.rental_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- 16 — Split (active rentals: NULL dropoff) -->
        <section>
          <h3>INNER JOIN + NULLs: active rentals (no dropoff yet)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>NULL means “unknown / not recorded”</li>
                <li>Filter active rentals with <code>IS NULL</code></li>
                <li>Join still works normally</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT
  r.rental_id,
  rd.name AS rider,
  b.bike_type,
  r.pickup_ts
FROM rentals r
JOIN riders rd ON r.rider_id = rd.rider_id
JOIN bikes  b  ON r.bike_id  = b.bike_id
WHERE r.dropoff_ts IS NULL
ORDER BY r.pickup_ts;</code></pre>
            </div>
          </div>
        </section>

        <!-- 17 — Diagram (LEFT join Venn) -->
        <section>
          <h3>LEFT JOIN concept</h3>
          <svg width="100%" height="260" viewBox="0 0 1200 260" role="img" aria-label="Left join keeps all left rows">
            <circle cx="520" cy="130" r="85" fill="rgba(255,255,255,0.14)" stroke="rgba(255,255,255,0.25)"
              stroke-width="2" />
            <circle cx="680" cy="130" r="85" fill="rgba(255,255,255,0.06)" stroke="rgba(255,255,255,0.25)"
              stroke-width="2" />
            <ellipse cx="600" cy="130" rx="40" ry="85" fill="rgba(255,255,255,0.14)" />
            <text x="520" y="135" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">riders (left)</text>
            <text x="680" y="135" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">rentals
              (right)</text>
            <text x="600" y="230" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.72)">All riders appear;
              rental columns may be NULL</text>
          </svg>
        </section>

        <!-- 18 — Split (LEFT join example) -->
        <section>
          <h3>LEFT JOIN: all riders, include rentals if any</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Use when the left table “must” appear</li>
                <li>Good for audits and completeness checks</li>
                <li>NULLs on the right mean “no match”</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT
  rd.rider_id,
  rd.name,
  r.rental_id,
  r.pickup_ts
FROM riders rd
LEFT JOIN rentals r
  ON r.rider_id = rd.rider_id
ORDER BY rd.rider_id, r.pickup_ts;</code></pre>
            </div>
          </div>
        </section>

        <!-- 19 — Split (LEFT join filter: riders with zero rentals) -->
        <section>
          <h3>Quality check: riders with zero rentals</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Start from riders</li>
                <li>LEFT JOIN rentals</li>
                <li>Keep rows where the right side is NULL</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT
  rd.rider_id,
  rd.name,
  rd.city
FROM riders rd
LEFT JOIN rentals r
  ON r.rider_id = rd.rider_id
WHERE r.rental_id IS NULL
ORDER BY rd.rider_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- 20 — Diagram (RIGHT join Venn) -->
        <section>
          <h3>RIGHT JOIN concept</h3>
          <svg width="100%" height="260" viewBox="0 0 1200 260" role="img" aria-label="Right join keeps all right rows">
            <circle cx="520" cy="130" r="85" fill="rgba(255,255,255,0.06)" stroke="rgba(255,255,255,0.25)"
              stroke-width="2" />
            <circle cx="680" cy="130" r="85" fill="rgba(255,255,255,0.14)" stroke="rgba(255,255,255,0.25)"
              stroke-width="2" />
            <ellipse cx="600" cy="130" rx="40" ry="85" fill="rgba(255,255,255,0.14)" />
            <text x="520" y="135" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">rentals</text>
            <text x="680" y="135" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">bikes (right)</text>
            <text x="600" y="230" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.72)">All bikes appear;
              rental columns may be NULL</text>
          </svg>
        </section>

        <!-- 21 — Split (RIGHT join example) -->
        <section>
          <h3>RIGHT JOIN: show all bikes, rentals if any</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Less common than LEFT JOIN</li>
                <li>Same idea: choose which side must appear</li>
                <li>Can be rewritten as LEFT JOIN by swapping tables</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT
  b.bike_id,
  b.bike_type,
  r.rental_id,
  r.pickup_ts
FROM rentals r
RIGHT JOIN bikes b
  ON r.bike_id = b.bike_id
ORDER BY b.bike_id, r.pickup_ts;</code></pre>
            </div>
          </div>
        </section>

        <!-- 22 — Split (rewrite RIGHT as LEFT) -->
        <section>
          <h3>Rewrite RIGHT JOIN as LEFT JOIN (team habit)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Many teams standardize on LEFT JOIN</li>
                <li>Same results, often easier to read</li>
                <li>Keep “must appear” table on the left</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT
  b.bike_id,
  b.bike_type,
  r.rental_id,
  r.pickup_ts
FROM bikes b
LEFT JOIN rentals r
  ON r.bike_id = b.bike_id
ORDER BY b.bike_id, r.pickup_ts;</code></pre>
            </div>
          </div>
        </section>

        <!-- 23 — Diagram (FULL OUTER join concept) -->
        <section>
          <h3>FULL OUTER JOIN concept</h3>
          <svg width="100%" height="260" viewBox="0 0 1200 260" role="img"
            aria-label="Full outer join keeps everything">
            <circle cx="520" cy="130" r="85" fill="rgba(255,255,255,0.14)" stroke="rgba(255,255,255,0.25)"
              stroke-width="2" />
            <circle cx="680" cy="130" r="85" fill="rgba(255,255,255,0.14)" stroke="rgba(255,255,255,0.25)"
              stroke-width="2" />
            <ellipse cx="600" cy="130" rx="40" ry="85" fill="rgba(255,255,255,0.14)" />
            <text x="520" y="135" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">riders</text>
            <text x="680" y="135" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">rentals</text>
            <text x="600" y="230" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.72)">All rows from both
              sides; NULLs mark missing matches</text>
          </svg>
        </section>

        <!-- 24 — Split (FULL OUTER join example) -->
        <section>
          <h3>FULL OUTER JOIN: show everything, highlight gaps</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Audit tool: find missing links on either side</li>
                <li>PostgreSQL supports FULL OUTER JOIN</li>
                <li>NULLs indicate unmatched rows</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT
  rd.rider_id,
  rd.name,
  r.rental_id,
  r.pickup_ts
FROM riders rd
FULL OUTER JOIN rentals r
  ON r.rider_id = rd.rider_id
ORDER BY rd.rider_id NULLS LAST, r.rental_id NULLS LAST;</code></pre>
            </div>
          </div>
        </section>

        <!-- 25 — Split (OUTER keyword note) -->
        <section>
          <h3>OUTER keyword</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li><code>OUTER</code> is optional syntax</li>
                <li><code>LEFT OUTER JOIN</code> = <code>LEFT JOIN</code></li>
                <li><code>FULL OUTER JOIN</code> is common for clarity</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Equivalent pairs:
-- LEFT JOIN         == LEFT OUTER JOIN
-- RIGHT JOIN        == RIGHT OUTER JOIN
-- FULL OUTER JOIN   == FULL JOIN (commonly written with OUTER)</code></pre>
            </div>
          </div>
        </section>

        <!-- 26 — Table (SQLite vs Postgres join support) -->
        <section>
          <h3>Comparison: join support</h3>
          <table class="table">
            <thead>
              <tr>
                <th>Feature</th>
                <th>SQLite</th>
                <th>PostgreSQL</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>INNER JOIN</td>
                <td>Supported</td>
                <td>Supported</td>
              </tr>
              <tr>
                <td>LEFT JOIN</td>
                <td>Supported</td>
                <td>Supported</td>
              </tr>
              <tr>
                <td>RIGHT JOIN</td>
                <td>Not supported in many SQLite versions</td>
                <td>Supported</td>
              </tr>
              <tr>
                <td>FULL OUTER JOIN</td>
                <td>Not supported directly</td>
                <td>Supported</td>
              </tr>
              <tr>
                <td>Portable workaround</td>
                <td>Use LEFT JOIN + UNION (carefully)</td>
                <td>Use RIGHT/FULL directly</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- 27 — Split (FULL OUTER workaround idea) -->
        <section>
          <h3>SQLite workaround idea: emulate FULL OUTER JOIN</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Use two LEFT JOIN queries</li>
                <li>Combine with <code>UNION</code></li>
                <li>Be careful to avoid duplicates</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Conceptual pattern (portable-ish):
-- 1) left side keeps all riders
-- 2) second query keeps rentals with no rider match

SELECT rd.rider_id, rd.name, r.rental_id
FROM riders rd
LEFT JOIN rentals r ON r.rider_id = rd.rider_id

UNION

SELECT rd.rider_id, rd.name, r.rental_id
FROM rentals r
LEFT JOIN riders rd ON r.rider_id = rd.rider_id
WHERE rd.rider_id IS NULL;</code></pre>
            </div>
          </div>
        </section>

        <!-- 28 — Split (common mistake: missing ON) -->
        <section>
          <h3>Common mistake: missing or wrong ON</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>If the join condition is missing or incorrect, rows multiply</li>
                <li>This is how dashboards get “too many rows”</li>
                <li>Good habit: sanity check counts</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Bad idea (cross join effect):
-- SELECT ... FROM rentals r JOIN riders rd;

-- Good:
SELECT COUNT(*) FROM rentals;
SELECT COUNT(*) FROM rentals r JOIN riders rd
  ON r.rider_id = rd.rider_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- 29 — Split (join count sanity checks) -->
        <section>
          <h3>Sanity checks: row counts</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Start from the fact table count (rentals)</li>
                <li>INNER JOIN should not exceed fact count (usually)</li>
                <li>LEFT JOIN may increase if one-to-many relationships exist</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Fact table baseline:
SELECT COUNT(*) AS rental_rows FROM rentals;

-- Expected: same as rentals (many-to-one)
SELECT COUNT(*) AS joined_rows
FROM rentals r
JOIN riders rd ON r.rider_id = rd.rider_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- 30 — Split (exercise 1) -->
        <section>
          <h3>Practice 1: rentals with rider + bike</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Show rental id, rider name, bike type</li>
                <li>Sort by pickup time</li>
                <li>Use table aliases</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT
  r.rental_id,
  rd.name AS rider,
  b.bike_type,
  r.pickup_ts
FROM rentals r
JOIN riders rd ON r.rider_id = rd.rider_id
JOIN bikes  b  ON r.bike_id  = b.bike_id
ORDER BY r.pickup_ts;</code></pre>
            </div>
          </div>
        </section>

        <!-- 31 — Split (exercise 2) -->
        <section>
          <h3>Practice 2: riders who never rented</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Start from riders</li>
                <li>LEFT JOIN rentals</li>
                <li>Filter where rental is NULL</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT rd.rider_id, rd.name
FROM riders rd
LEFT JOIN rentals r ON r.rider_id = rd.rider_id
WHERE r.rental_id IS NULL
ORDER BY rd.rider_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- 32 — Split (exercise 3) -->
        <section>
          <h3>Practice 3: bikes never rented</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Start from bikes</li>
                <li>LEFT JOIN rentals</li>
                <li>Keep bikes with no rental match</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT b.bike_id, b.bike_type, b.status
FROM bikes b
LEFT JOIN rentals r ON r.bike_id = b.bike_id
WHERE r.rental_id IS NULL
ORDER BY b.bike_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- 33 — Split (exercise 4) -->
        <section>
          <h3>Practice 4: pickup and dropoff station names</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Join stations twice</li>
                <li>Dropoff can be NULL for active rentals</li>
                <li>Use two different aliases</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT
  r.rental_id,
  sp.name AS pickup_station,
  sd.name AS dropoff_station,
  r.pickup_ts,
  r.dropoff_ts
FROM rentals r
JOIN stations sp ON r.pickup_station_id = sp.station_id
LEFT JOIN stations sd ON r.dropoff_station_id = sd.station_id
ORDER BY r.rental_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- 34 — Diagram (join choice ladder) -->
        <section>
          <h3>Join choice ladder</h3>
          <svg width="100%" height="300" viewBox="0 0 1200 300" role="img" aria-label="Join choice ladder diagram">
            <rect x="120" y="60" width="960" height="200" rx="18" fill="rgba(255,255,255,0.05)"
              stroke="rgba(255,255,255,0.22)" stroke-width="2" />
            <text x="200" y="115" font-size="20" fill="rgba(255,255,255,0.85)">1) Identify the keys (PK / FK)</text>
            <text x="200" y="155" font-size="20" fill="rgba(255,255,255,0.85)">2) Decide who must appear (left vs
              right)</text>
            <text x="200" y="195" font-size="20" fill="rgba(255,255,255,0.85)">3) Pick join type (INNER / LEFT / RIGHT /
              FULL)</text>
            <text x="600" y="250" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.70)">
              Traditional SQL habit: write the ON match immediately after the JOIN
            </text>
          </svg>
        </section>

        <!-- 35 — Table (join cheat sheet) -->
        <section>
          <h3>Cheat sheet</h3>
          <table class="table">
            <thead>
              <tr>
                <th>Need</th>
                <th>Join to use</th>
                <th>Bicycle example</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Only matched rows</td>
                <td><code>INNER JOIN</code></td>
                <td>Rentals + riders</td>
              </tr>
              <tr>
                <td>All riders, rentals if any</td>
                <td><code>LEFT JOIN</code></td>
                <td>Riders with optional rentals</td>
              </tr>
              <tr>
                <td>All bikes, rentals if any</td>
                <td><code>RIGHT JOIN</code> (or swap + LEFT)</td>
                <td>Bikes with optional rentals</td>
              </tr>
              <tr>
                <td>Everything from both sides</td>
                <td><code>FULL OUTER JOIN</code></td>
                <td>Audit missing links</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- 36 — Split (summary) -->
        <section>
          <h3>Summary</h3>
          <div class="split">
            <div class="left">
              <ul class="tight">
                <li><strong>JOIN</strong> defaults to <strong>INNER JOIN</strong></li>
                <li><strong>INNER</strong>: only matches</li>
                <li><strong>LEFT</strong>: keep all left rows (right may be NULL)</li>
                <li><strong>RIGHT</strong>: keep all right rows (left may be NULL)</li>
                <li><strong>FULL OUTER</strong>: keep all rows from both tables</li>
                <li>Wrong or missing <code>ON</code> can multiply rows</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- A clean, common pattern:
SELECT rd.name, b.bike_type, r.pickup_ts
FROM rentals r
JOIN riders rd ON r.rider_id = rd.rider_id
JOIN bikes  b  ON r.bike_id  = b.bike_id
ORDER BY r.pickup_ts;</code></pre>
            </div>
          </div>
        </section>

        <!-- 37 — Diagram (checkpoint) -->
        <section>
          <svg width="100%" height="260" viewBox="0 0 1200 260" role="img" aria-label="Checkpoint diagram">
            <rect x="140" y="70" width="920" height="140" rx="18" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="600" y="120" text-anchor="middle" font-size="22" fill="rgba(255,255,255,0.9)">
              Before running a join, say who must appear.
            </text>
            <text x="600" y="160" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.75)">
              Inner? Left? Right? Full? Then write the ON key match.
            </text>
          </svg>
        </section>

      </section>

      <!-- MODULE 6 -->
      <!-- ========================================================= -->
      <!-- MODULE 6: SUBQUERY & PATTERN FILTERING                    -->
      <!-- EXISTS · IN · ANY · BETWEEN · LIKE · ESCAPE               -->
      <!-- PostgreSQL focus + SQLite comparison tables                -->
      <!-- FULL (35+ slides) + SETUP INCLUDED                         -->
      <!-- ========================================================= -->
      <section id="module-6">

        <!-- 01 — Cover -->
        <section>
          <h2>Module 6</h2>
          <h3>Filtering with Subqueries & Patterns</h3>
          <p class="muted">EXISTS · IN · ANY · BETWEEN · LIKE · ESCAPE</p>

          <svg width="100%" height="260" viewBox="0 0 1200 260" role="img" aria-label="Filtering pipeline diagram">
            <rect x="60" y="70" width="300" height="120" rx="16" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="210" y="125" text-anchor="middle" font-size="28" fill="rgba(255,255,255,0.92)">Bike Rental</text>
            <text x="210" y="160" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.75)">tables + keys</text>

            <rect x="450" y="70" width="300" height="120" rx="16" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="600" y="125" text-anchor="middle" font-size="28" fill="rgba(255,255,255,0.92)">FILTER</text>
            <text x="600" y="160" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.75)">subquery /
              pattern</text>

            <rect x="840" y="70" width="300" height="120" rx="16" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="990" y="125" text-anchor="middle" font-size="28" fill="rgba(255,255,255,0.92)">Results</text>
            <text x="990" y="160" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.75)">kept rows
              only</text>

            <line x1="360" y1="130" x2="450" y2="130" stroke="rgba(255,255,255,0.35)" stroke-width="4" />
            <polygon points="450,130 435,122 435,138" fill="rgba(255,255,255,0.35)" />
            <line x1="750" y1="130" x2="840" y2="130" stroke="rgba(255,255,255,0.35)" stroke-width="4" />
            <polygon points="840,130 825,122 825,138" fill="rgba(255,255,255,0.35)" />
          </svg>
        </section>

        <!-- 02 — Split (goals) -->
        <section>
          <h3>Module goal</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Run a small schema and seed data</li>
                <li>Filter with <code>IN</code>, <code>EXISTS</code>, <code>ANY</code></li>
                <li>Filter ranges using <code>BETWEEN</code></li>
                <li>Filter text using <code>LIKE</code> and <code>ESCAPE</code></li>
                <li>Practice “before vs after” query improvements</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Habit:
-- 1) Start with a base SELECT
-- 2) Add one WHERE filter
-- 3) Validate row counts (COUNT(*))</code></pre>
            </div>
          </div>
        </section>

        <!-- 03 — Setup Intro -->
        <section>
          <h3>Setup: Create tables + insert data</h3>
          <p class="muted">Run these once so every example works.</p>
        </section>

        <!-- 04 — CREATE riders -->
        <section>
          <h3>CREATE TABLE riders</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>One row per rider</li>
                <li>City supports filters</li>
                <li>Email supports LIKE practice</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">CREATE TABLE riders (
  rider_id  SERIAL PRIMARY KEY,
  name      TEXT NOT NULL,
  city      TEXT NOT NULL,
  email     TEXT
);</code></pre>
            </div>
          </div>
        </section>

        <!-- 05 — CREATE bikes -->
        <section>
          <h3>CREATE TABLE bikes</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>One row per bike</li>
                <li>Status enables extra filters</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">CREATE TABLE bikes (
  bike_id   SERIAL PRIMARY KEY,
  bike_type TEXT NOT NULL,
  status    TEXT NOT NULL
);</code></pre>
            </div>
          </div>
        </section>

        <!-- 06 — CREATE rentals -->
        <section>
          <h3>CREATE TABLE rentals</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Fact table (events)</li>
                <li>dropoff_ts can be NULL (active ride)</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">CREATE TABLE rentals (
  rental_id  SERIAL PRIMARY KEY,
  rider_id   INTEGER REFERENCES riders(rider_id),
  bike_id    INTEGER REFERENCES bikes(bike_id),
  pickup_ts  TIMESTAMP NOT NULL,
  dropoff_ts TIMESTAMP
);</code></pre>
            </div>
          </div>
        </section>

        <!-- 07 — INSERT all -->
        <section>
          <h3>INSERT sample data (riders, bikes, rentals)</h3>
          <pre><code class="language-sql">INSERT INTO riders(name, city, email) VALUES
('Ava',  'Stockton',   'ava@example.com'),
('Noah', 'Sacramento', 'noah@example.com'),
('Mia',  'Stockton',   'mia@test.com'),
('Liam', 'Lodi',       'liam@sample.org'); -- intentionally different domain

INSERT INTO bikes(bike_type, status) VALUES
('city',  'available'),
('road',  'available'),
('e-bike','maintenance'),
('city',  'available'); -- will show “never rented” later

INSERT INTO rentals(rider_id, bike_id, pickup_ts, dropoff_ts) VALUES
(1, 1, TIMESTAMP '2026-02-10 09:00', TIMESTAMP '2026-02-10 09:25'),
(2, 2, TIMESTAMP '2026-02-11 10:00', TIMESTAMP '2026-02-11 10:18'),
(1, 2, TIMESTAMP '2026-02-12 08:10', NULL); -- active ride</code></pre>
        </section>

        <!-- 08 — Split (baseline select) -->
        <section>
          <h3>Baseline query (start here)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Establish a baseline</li>
                <li>Know expected row count</li>
                <li>Then add filters</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT rider_id, name, city, email
FROM riders
ORDER BY rider_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- ========================================================= -->
        <!-- IN -->
        <!-- ========================================================= -->

        <!-- 09 — Split (IN concept) -->
        <section>
          <h3>IN concept</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li><code>IN</code> checks membership in a list (or subquery result)</li>
                <li>Often replaces long <code>OR</code> chains</li>
                <li>Good for “allowed set” rules</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Pattern:
WHERE value IN (v1, v2, v3)</code></pre>
            </div>
          </div>
        </section>

        <!-- 10 — Split (IN list example) -->
        <section>
          <h3>IN example: filter riders by city</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Small fixed list</li>
                <li>Readable</li>
                <li>Easy to extend</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT name, city
FROM riders
WHERE city IN ('Stockton', 'Lodi')
ORDER BY name;</code></pre>
            </div>
          </div>
        </section>

        <!-- 11 — Before/After OR -> IN -->
        <section>
          <h3>Before/After: OR chain → IN</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li><strong>Before</strong>: noisy OR chain</li>
                <li><strong>After</strong>: clean IN list</li>
                <li>Team habit: prefer IN for enums</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Before:
SELECT name, city
FROM riders
WHERE city = 'Stockton'
   OR city = 'Lodi'
   OR city = 'Sacramento';

-- After:
SELECT name, city
FROM riders
WHERE city IN ('Stockton','Lodi','Sacramento');</code></pre>
            </div>
          </div>
        </section>

        <!-- 12 — Split (IN with subquery) -->
        <section>
          <h3>IN with subquery: riders who have rentals</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Subquery returns a set of rider_ids</li>
                <li>Outer query keeps members</li>
                <li>This is membership logic</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT name
FROM riders
WHERE rider_id IN (
  SELECT rider_id
  FROM rentals
)
ORDER BY name;</code></pre>
            </div>
          </div>
        </section>

        <!-- 13 — Table (IN notes) -->
        <section>
          <h3>IN notes</h3>
          <table class="table" style="font-size: 12pt;">
            <thead>
              <tr>
                <th>Situation</th>
                <th>Use</th>
                <th>Why</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Short fixed list</td>
                <td><code>IN</code></td>
                <td>Clean and readable</td>
              </tr>
              <tr>
                <td>Existence question</td>
                <td><code>EXISTS</code></td>
                <td>More explicit meaning</td>
              </tr>
              <tr>
                <td>NULL involved</td>
                <td>Be careful</td>
                <td>Three-valued logic</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- ========================================================= -->
        <!-- EXISTS -->
        <!-- ========================================================= -->

        <!-- 14 — Diagram (EXISTS) -->
        <section>
          <h3>EXISTS concept</h3>
          <svg width="100%" height="260" viewBox="0 0 1200 260" role="img"
            aria-label="EXISTS checks for at least one match">
            <rect x="120" y="70" width="420" height="120" rx="16" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="330" y="120" text-anchor="middle" font-size="22" fill="rgba(255,255,255,0.9)">Outer row</text>
            <text x="330" y="155" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">one rider at a
              time</text>

            <rect x="660" y="70" width="420" height="120" rx="16" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="870" y="120" text-anchor="middle" font-size="22" fill="rgba(255,255,255,0.9)">Subquery</text>
            <text x="870" y="155" text-anchor="middle" font-size="16" fill="rgba(255,255,255,0.75)">any match?</text>

            <line x1="540" y1="130" x2="660" y2="130" stroke="rgba(255,255,255,0.35)" stroke-width="4" />
            <polygon points="660,130 645,122 645,138" fill="rgba(255,255,255,0.35)" />
            <text x="600" y="230" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.72)">
              TRUE if subquery returns ≥ 1 row
            </text>
          </svg>
        </section>

        <!-- 15 — Split (EXISTS example) -->
        <section>
          <h3>EXISTS example: riders with at least one rental</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Correlated subquery (uses r.rider_id)</li>
                <li>Short-circuits after first match</li>
                <li>Best match for “does it exist?” questions</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT r.name
FROM riders r
WHERE EXISTS (
  SELECT 1
  FROM rentals rt
  WHERE rt.rider_id = r.rider_id
)
ORDER BY r.name;</code></pre>
            </div>
          </div>
        </section>

        <!-- 16 — Before/After IN -> EXISTS -->
        <section>
          <h3>Before/After: IN subquery → EXISTS</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li><strong>Before</strong>: membership phrasing</li>
                <li><strong>After</strong>: existence phrasing</li>
                <li>Habit: use EXISTS when the meaning is existence</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Before:
SELECT name
FROM riders
WHERE rider_id IN (SELECT rider_id FROM rentals);

-- After:
SELECT r.name
FROM riders r
WHERE EXISTS (
  SELECT 1 FROM rentals rt
  WHERE rt.rider_id = r.rider_id
);</code></pre>
            </div>
          </div>
        </section>

        <!-- 17 — Split (NOT EXISTS) -->
        <section>
          <h3>NOT EXISTS: riders with zero rentals</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Audit pattern</li>
                <li>Find missing relationships</li>
                <li>Common in data quality checks</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT r.rider_id, r.name
FROM riders r
WHERE NOT EXISTS (
  SELECT 1
  FROM rentals rt
  WHERE rt.rider_id = r.rider_id
)
ORDER BY r.rider_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- 18 — Table (EXISTS tips) -->
        <section>
          <h3>EXISTS tips</h3>
          <table class="table">
            <thead>
              <tr>
                <th>Tip</th>
                <th>Why</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Use <code>SELECT 1</code></td>
                <td>You only need existence</td>
              </tr>
              <tr>
                <td>Keep correlation in WHERE</td>
                <td>Readable logic</td>
              </tr>
              <tr>
                <td>Pair with NOT EXISTS</td>
                <td>Find missing links</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- ========================================================= -->
        <!-- ANY -->
        <!-- ========================================================= -->

        <!-- 19 — Split (ANY concept) -->
        <section>
          <h3>ANY concept</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Compare a value to <em>any</em> value from a set</li>
                <li>More flexible than IN (supports &lt;, &gt;, =)</li>
                <li>PostgreSQL-focused tool</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Pattern:
value OP ANY (subquery)</code></pre>
            </div>
          </div>
        </section>

        <!-- 20 — Split (ANY equality) -->
        <section>
          <h3>ANY equality: similar to IN</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>= ANY works like membership</li>
                <li>Teach set-thinking</li>
                <li>Prefer IN for readability when possible</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT r.name
FROM riders r
WHERE r.rider_id = ANY (
  SELECT rider_id
  FROM rentals
);</code></pre>
            </div>
          </div>
        </section>

        <!-- 21 — Split (ANY with comparisons) -->
        <section>
          <h3>ANY with comparisons: threshold logic</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Example: “greater than any rider_id seen in rentals”</li>
                <li>Shows flexibility beyond IN</li>
                <li>Know what the set represents</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT r.rider_id, r.name
FROM riders r
WHERE r.rider_id &gt; ANY (
  SELECT rt.rider_id
  FROM rentals rt
)
ORDER BY r.rider_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- 22 — Table (IN vs ANY) -->
        <section>
          <h3>IN vs ANY</h3>
          <table class="table">
            <thead>
              <tr>
                <th>Need</th>
                <th>Use</th>
                <th>Reason</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Equality membership</td>
                <td><code>IN</code></td>
                <td>Most readable</td>
              </tr>
              <tr>
                <td>Flexible comparisons</td>
                <td><code>ANY</code></td>
                <td>Supports &lt;, &gt;, =</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- ========================================================= -->
        <!-- BETWEEN -->
        <!-- ========================================================= -->

        <!-- 23 — Split (BETWEEN concept) -->
        <section>
          <h3>BETWEEN concept</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Inclusive range: low and high are included</li>
                <li>Good for dates and numeric ranges</li>
                <li>Cleaner than >= AND <=< /li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Pattern:
WHERE value BETWEEN low AND high</code></pre>
            </div>
          </div>
        </section>

        <!-- 24 — Diagram (range) -->
        <section>
          <h3>BETWEEN as a range (inclusive)</h3>
          <svg width="100%" height="220" viewBox="0 0 1200 220" role="img" aria-label="Between range diagram">
            <line x1="200" y1="120" x2="1000" y2="120" stroke="rgba(255,255,255,0.55)" stroke-width="6" />
            <circle cx="360" cy="120" r="10" fill="rgba(255,255,255,0.85)" />
            <circle cx="840" cy="120" r="10" fill="rgba(255,255,255,0.85)" />
            <rect x="360" y="110" width="480" height="20" fill="rgba(255,255,255,0.16)" />
            <text x="360" y="90" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.8)">low (included)</text>
            <text x="840" y="90" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.8)">high (included)</text>
            <text x="600" y="170" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.72)">BETWEEN keeps values
              on the shaded segment</text>
          </svg>
        </section>

        <!-- 25 — Split (BETWEEN timestamps) -->
        <section>
          <h3>BETWEEN example: rentals in a date window</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Use explicit timestamps for clarity</li>
                <li>Common for daily/weekly reports</li>
                <li>Sort to verify results</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT rental_id, pickup_ts
FROM rentals
WHERE pickup_ts BETWEEN
  TIMESTAMP '2026-02-10 00:00'
  AND
  TIMESTAMP '2026-02-11 23:59'
ORDER BY pickup_ts;</code></pre>
            </div>
          </div>
        </section>

        <!-- 26 — Before/After >= <= -> BETWEEN -->
        <section>
          <h3>Before/After: &gt;= and &lt;= → BETWEEN</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li><strong>Before</strong>: verbose comparisons</li>
                <li><strong>After</strong>: compact BETWEEN</li>
                <li>Same meaning (inclusive)</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Before:
SELECT rental_id
FROM rentals
WHERE pickup_ts &gt;= TIMESTAMP '2026-02-10 00:00'
  AND pickup_ts &lt;= TIMESTAMP '2026-02-11 23:59';

-- After:
SELECT rental_id
FROM rentals
WHERE pickup_ts BETWEEN
  TIMESTAMP '2026-02-10 00:00'
  AND
  TIMESTAMP '2026-02-11 23:59';</code></pre>
            </div>
          </div>
        </section>

        <!-- 27 — Split (BETWEEN numeric) -->
        <section>
          <h3>BETWEEN numeric example: bike_id range</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Simple numeric range filter</li>
                <li>Useful for demos and sanity checks</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT bike_id, bike_type, status
FROM bikes
WHERE bike_id BETWEEN 1 AND 3
ORDER BY bike_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- ========================================================= -->
        <!-- LIKE -->
        <!-- ========================================================= -->

        <!-- 28 — Table (wildcards) -->
        <section>
          <h3>LIKE wildcards</h3>
          <table class="table">
            <thead>
              <tr>
                <th>Symbol</th>
                <th>Meaning</th>
                <th>Example</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>%</code></td>
                <td>0 or more characters</td>
                <td><code>'S%'</code></td>
              </tr>
              <tr>
                <td><code>_</code></td>
                <td>Exactly one character</td>
                <td><code>'____'</code></td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- 29 — Split (LIKE concept) -->
        <section>
          <h3>LIKE concept</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Pattern matching for text</li>
                <li>Use prefix/suffix/contains patterns</li>
                <li>Leading % can be slower (no prefix anchor)</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Common patterns:
'prefix%'
'%contains%'
'%suffix'
'____'  -- exact length</code></pre>
            </div>
          </div>
        </section>

        <!-- 30 — Split (LIKE prefix) -->
        <section>
          <h3>LIKE example: city starts with 'S'</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Prefix pattern: <code>'S%'</code></li>
                <li>Good for “starts with” filters</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT name, city
FROM riders
WHERE city LIKE 'S%'
ORDER BY city, name;</code></pre>
            </div>
          </div>
        </section>

        <!-- 31 — Split (LIKE contains) -->
        <section>
          <h3>LIKE example: email contains 'example'</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Contains pattern: <code>'%example%'</code></li>
                <li>Useful for quick searches</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT rider_id, name, email
FROM riders
WHERE email LIKE '%example%'
ORDER BY rider_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- 32 — Split (Postgres ILIKE) -->
        <section>
          <h3>PostgreSQL note: ILIKE (case-insensitive)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li><code>ILIKE</code> is PostgreSQL-only</li>
                <li>Case-insensitive pattern matching</li>
                <li>Useful for user-entered searches</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT name, city
FROM riders
WHERE city ILIKE 's%';</code></pre>
            </div>
          </div>
        </section>

        <!-- ========================================================= -->
        <!-- ESCAPE -->
        <!-- ========================================================= -->

        <!-- 33 — Split (ESCAPE concept) -->
        <section>
          <h3>ESCAPE concept</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li><code>%</code> and <code>_</code> are wildcards in LIKE</li>
                <li>ESCAPE defines a special character to “escape” wildcards</li>
                <li>Then <code>\%</code> means literal percent sign</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Pattern:
LIKE '%\%%' ESCAPE '\'</code></pre>
            </div>
          </div>
        </section>

        <!-- 34 — Split (ESCAPE example) -->
        <section>
          <h3>ESCAPE example: match a literal percent sign</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Needed when data contains wildcard characters</li>
                <li>Without ESCAPE, % means “anything”</li>
                <li>With ESCAPE, you control literal matching</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT *
FROM riders
WHERE email LIKE '%\%%' ESCAPE '\';</code></pre>
            </div>
          </div>
        </section>

        <!-- 35 — Before/After broken LIKE -> ESCAPE -->
        <section>
          <h3>Before/After: broken pattern → ESCAPE</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li><strong>Before</strong>: intends literal %, but matches too broadly</li>
                <li><strong>After</strong>: ESCAPE makes % literal</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Before (not literal):
SELECT * FROM riders
WHERE email LIKE '%%%';  -- just means "anything"

-- After (literal % somewhere):
SELECT * FROM riders
WHERE email LIKE '%\%%' ESCAPE '\';</code></pre>
            </div>
          </div>
        </section>

        <!-- ========================================================= -->
        <!-- Combined filters + quality checks -->
        <!-- ========================================================= -->

        <!-- 36 — Split (IN + LIKE) -->
        <section>
          <h3>Combine filters: IN + LIKE</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Combine conditions with AND</li>
                <li>Keep each filter readable</li>
                <li>Use parentheses for complex logic</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT name, city, email
FROM riders
WHERE city IN ('Stockton', 'Sacramento')
  AND email LIKE '%@example.com'
ORDER BY name;</code></pre>
            </div>
          </div>
        </section>

        <!-- 37 — Split (EXISTS + BETWEEN) -->
        <section>
          <h3>Combine filters: EXISTS + BETWEEN</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Find riders active in a time window</li>
                <li>Existence + range is common in reporting</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT r.name
FROM riders r
WHERE EXISTS (
  SELECT 1
  FROM rentals rt
  WHERE rt.rider_id = r.rider_id
    AND rt.pickup_ts BETWEEN
        TIMESTAMP '2026-02-10 00:00'
        AND
        TIMESTAMP '2026-02-12 23:59'
)
ORDER BY r.name;</code></pre>
            </div>
          </div>
        </section>

        <!-- 38 — Split (NULL pitfall) -->
        <section>
          <h3>Common pitfall: NULL comparisons</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>NULL means “unknown / missing”</li>
                <li><code>= NULL</code> is not correct</li>
                <li>Use <code>IS NULL</code> / <code>IS NOT NULL</code></li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Active rentals (no dropoff yet):
SELECT rental_id, rider_id, pickup_ts
FROM rentals
WHERE dropoff_ts IS NULL;</code></pre>
            </div>
          </div>
        </section>

        <!-- 39 — Split (row count checks) -->
        <section>
          <h3>Sanity checks: row counts</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Use COUNT(*) before and after filters</li>
                <li>Filtering should reduce rows</li>
                <li>Helps catch logic mistakes early</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT COUNT(*) AS rider_rows
FROM riders;

SELECT COUNT(*) AS filtered_rows
FROM riders
WHERE city IN ('Stockton','Lodi');</code></pre>
            </div>
          </div>
        </section>

        <!-- ========================================================= -->
        <!-- Engine comparison -->
        <!-- ========================================================= -->

        <!-- 40 — Table (SQLite vs Postgres) -->
        <section>
          <h3>Comparison: feature support</h3>
          <table class="table">
            <thead>
              <tr>
                <th>Feature</th>
                <th>SQLite</th>
                <th>PostgreSQL</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>IN</td>
                <td>Supported</td>
                <td>Supported</td>
              </tr>
              <tr>
                <td>EXISTS</td>
                <td>Supported</td>
                <td>Supported</td>
              </tr>
              <tr>
                <td>ANY</td>
                <td>Limited / uncommon</td>
                <td>Supported</td>
              </tr>
              <tr>
                <td>BETWEEN</td>
                <td>Supported</td>
                <td>Supported</td>
              </tr>
              <tr>
                <td>LIKE</td>
                <td>Supported</td>
                <td>Supported</td>
              </tr>
              <tr>
                <td>ESCAPE</td>
                <td>Varies by build / usage</td>
                <td>Supported</td>
              </tr>
              <tr>
                <td>ILIKE</td>
                <td>No</td>
                <td>Supported</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- 41 — Split (portable habits) -->
        <section>
          <h3>Portable habits (works almost everywhere)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Core portable: IN, EXISTS, BETWEEN, LIKE</li>
                <li>PostgreSQL extras: ANY, ILIKE</li>
                <li>Keep timestamps explicit for portability</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Portable core:
-- IN / EXISTS / BETWEEN / LIKE</code></pre>
            </div>
          </div>
        </section>

        <!-- ========================================================= -->
        <!-- Practice -->
        <!-- ========================================================= -->

        <!-- 42 — Split (Practice 1) -->
        <section>
          <h3>Practice 1: riders who never rented</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Use NOT EXISTS</li>
                <li>Return rider_id + name</li>
                <li>Sort by rider_id</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT r.rider_id, r.name
FROM riders r
WHERE NOT EXISTS (
  SELECT 1
  FROM rentals rt
  WHERE rt.rider_id = r.rider_id
)
ORDER BY r.rider_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- 43 — Split (Practice 2) -->
        <section>
          <h3>Practice 2: bikes never rented (IN + NOT IN alternative)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Find bikes missing from rentals</li>
                <li>Demonstrates “set difference” thinking</li>
                <li>Note: NOT IN can be tricky with NULLs; consider NOT EXISTS in real systems</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Simple approach (works here because rentals.bike_id is not NULL in our inserts):
SELECT b.bike_id, b.bike_type, b.status
FROM bikes b
WHERE b.bike_id NOT IN (
  SELECT rt.bike_id
  FROM rentals rt
)
ORDER BY b.bike_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- 44 — Split (Practice 3) -->
        <section>
          <h3>Practice 3: riders with an active rental</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>EXISTS with extra condition</li>
                <li>Active rental = dropoff_ts IS NULL</li>
                <li>Return only rider names</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT r.name
FROM riders r
WHERE EXISTS (
  SELECT 1
  FROM rentals rt
  WHERE rt.rider_id = r.rider_id
    AND rt.dropoff_ts IS NULL
)
ORDER BY r.name;</code></pre>
            </div>
          </div>
        </section>

        <!-- ========================================================= -->
        <!-- Cheat sheet + checkpoint -->
        <!-- ========================================================= -->

        <!-- 45 — Table (cheat sheet) -->
        <section>
          <h3>Cheat sheet</h3>
          <table class="table">
            <thead>
              <tr>
                <th>Need</th>
                <th>Use</th>
                <th>Bicycle example</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Membership in a set</td>
                <td><code>IN</code></td>
                <td>Riders in certain cities</td>
              </tr>
              <tr>
                <td>Does a related row exist?</td>
                <td><code>EXISTS</code></td>
                <td>Riders with rentals</td>
              </tr>
              <tr>
                <td>Flexible set comparison</td>
                <td><code>ANY</code></td>
                <td>Threshold comparisons</td>
              </tr>
              <tr>
                <td>Range filter</td>
                <td><code>BETWEEN</code></td>
                <td>Rentals in a date window</td>
              </tr>
              <tr>
                <td>Pattern match</td>
                <td><code>LIKE</code></td>
                <td>Emails containing “example”</td>
              </tr>
              <tr>
                <td>Literal wildcard</td>
                <td><code>ESCAPE</code></td>
                <td>Find literal % in text</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- 46 — Split (summary) -->
        <section>
          <h3>Summary</h3>
          <div class="split">
            <div class="left">
              <ul class="tight">
                <li><strong>IN</strong> = membership in a list/set</li>
                <li><strong>EXISTS</strong> = presence of ≥ 1 related row</li>
                <li><strong>ANY</strong> = compare to any value in a set</li>
                <li><strong>BETWEEN</strong> = inclusive range</li>
                <li><strong>LIKE</strong> = pattern matching</li>
                <li><strong>ESCAPE</strong> = treat % and _ as literal</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Clean, common pattern:
SELECT r.name
FROM riders r
WHERE EXISTS (
  SELECT 1
  FROM rentals rt
  WHERE rt.rider_id = r.rider_id
)
ORDER BY r.name;</code></pre>
            </div>
          </div>
        </section>

        <!-- 47 — Diagram (checkpoint) -->
        <section>
          <svg width="100%" height="260" viewBox="0 0 1200 260" role="img" aria-label="Checkpoint diagram">
            <rect x="140" y="70" width="920" height="140" rx="18" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="600" y="120" text-anchor="middle" font-size="22" fill="rgba(255,255,255,0.9)">
              Say the question first: membership, existence, range, or pattern?
            </text>
            <text x="600" y="160" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.75)">
              Then choose IN / EXISTS / ANY / BETWEEN / LIKE / ESCAPE.
            </text>
          </svg>
        </section>

      </section>

      <!-- MODULE 7 -->
      <!-- ========================================================= -->
      <!-- MODULE 7: JOINS + SET OPERATORS                           -->
      <!-- CROSS · ON · USING · UNION · INTERSECT · EXCEPT           -->
      <!-- PostgreSQL focus + SQLite comparison tables                -->
      <!-- FULL (35+ slides) + SETUP INCLUDED                         -->
      <!-- ========================================================= -->

      <section id="module-7">

        <!-- 01 — Cover -->
        <section>
          <h2>Module 7</h2>
          <h3>Joins & Set Operators</h3>
          <p class="muted">CROSS · ON · USING · UNION · INTERSECT · EXCEPT</p>

          <svg width="100%" height="260" viewBox="0 0 1200 260" role="img" aria-label="Join and set pipeline diagram">
            <rect x="60" y="70" width="320" height="120" rx="16" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="220" y="125" text-anchor="middle" font-size="26" fill="rgba(255,255,255,0.92)">Tables</text>
            <text x="220" y="160" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.75)">riders · bikes ·
              rentals</text>

            <rect x="440" y="70" width="320" height="120" rx="16" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="600" y="125" text-anchor="middle" font-size="26" fill="rgba(255,255,255,0.92)">JOIN</text>
            <text x="600" y="160" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.75)">match rows
              (ON/USING)</text>

            <rect x="820" y="70" width="320" height="120" rx="16" fill="rgba(255,255,255,0.06)"
              stroke="rgba(255,255,255,0.25)" stroke-width="2" />
            <text x="980" y="125" text-anchor="middle" font-size="26" fill="rgba(255,255,255,0.92)">SET</text>
            <text x="980" y="160" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.75)">combine
              results</text>

            <line x1="380" y1="130" x2="440" y2="130" stroke="rgba(255,255,255,0.35)" stroke-width="4" />
            <polygon points="440,130 425,122 425,138" fill="rgba(255,255,255,0.35)" />
            <line x1="760" y1="130" x2="820" y2="130" stroke="rgba(255,255,255,0.35)" stroke-width="4" />
            <polygon points="820,130 805,122 805,138" fill="rgba(255,255,255,0.35)" />
          </svg>
        </section>

        <!-- 02 — Split (goals) -->
        <section>
          <h3>Module goal</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Run a small schema and seed data (same domain)</li>
                <li>Join tables using <code>ON</code> and <code>USING</code></li>
                <li>Understand <code>CROSS JOIN</code> (Cartesian product)</li>
                <li>Combine result sets with <code>UNION</code>, <code>INTERSECT</code>, <code>EXCEPT</code></li>
                <li>Practice “before vs after” query improvements</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Habit (like careful footsteps on wet ground):
-- 1) Start with a small SELECT
-- 2) Add one JOIN condition
-- 3) Validate row counts (COUNT(*))
-- 4) Only then add SET operators</code></pre>
            </div>
          </div>
        </section>

        <!-- 03 — Setup Intro -->
        <section>
          <h3>Setup: Create tables + insert data</h3>
          <p class="muted">Run these once so every example works.</p>
        </section>

        <!-- 04 — CREATE riders -->
        <section>
          <h3>CREATE TABLE riders</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>One row per rider</li>
                <li>City supports filters</li>
                <li>Email supports unique lists</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">CREATE TABLE riders (
  rider_id  SERIAL PRIMARY KEY,
  name      TEXT NOT NULL,
  city      TEXT NOT NULL,
  email     TEXT
);</code></pre>
            </div>
          </div>
        </section>

        <!-- 05 — CREATE bikes -->
        <section>
          <h3>CREATE TABLE bikes</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>One row per bike</li>
                <li>Status enables filters</li>
                <li>bike_type supports grouping</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">CREATE TABLE bikes (
  bike_id   SERIAL PRIMARY KEY,
  bike_type TEXT NOT NULL,
  status    TEXT NOT NULL
);</code></pre>
            </div>
          </div>
        </section>

        <!-- 06 — CREATE rentals -->
        <section>
          <h3>CREATE TABLE rentals</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Fact table (events)</li>
                <li>Links riders ↔ bikes</li>
                <li>dropoff_ts can be NULL (active ride)</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">CREATE TABLE rentals (
  rental_id  SERIAL PRIMARY KEY,
  rider_id   INTEGER REFERENCES riders(rider_id),
  bike_id    INTEGER REFERENCES bikes(bike_id),
  pickup_ts  TIMESTAMP NOT NULL,
  dropoff_ts TIMESTAMP
);</code></pre>
            </div>
          </div>
        </section>

        <!-- 07 — INSERT sample data -->
        <section>
          <h3>INSERT sample data (riders, bikes, rentals)</h3>
          <pre><code class="language-sql">INSERT INTO riders(name, city, email) VALUES
('Ava',  'Stockton',   'ava@example.com'),
('Noah', 'Sacramento', 'noah@example.com'),
('Mia',  'Stockton',   'mia@test.com'),
('Liam', 'Lodi',       'liam@sample.org');

INSERT INTO bikes(bike_type, status) VALUES
('city',   'available'),
('road',   'available'),
('e-bike', 'maintenance'),
('city',   'available');

INSERT INTO rentals(rider_id, bike_id, pickup_ts, dropoff_ts) VALUES
(1, 1, TIMESTAMP '2026-02-10 09:00', TIMESTAMP '2026-02-10 09:25'),
(2, 2, TIMESTAMP '2026-02-11 10:00', TIMESTAMP '2026-02-11 10:18'),
(1, 2, TIMESTAMP '2026-02-12 08:10', NULL);</code></pre>
        </section>

        <!-- 08 — Split (baseline select) -->
        <section>
          <h3>Baseline query (start here)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Establish a baseline</li>
                <li>Know expected row counts</li>
                <li>Then add joins/sets</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT rider_id, name, city, email
FROM riders
ORDER BY rider_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- ========================================================= -->
        <!-- CROSS JOIN -->
        <!-- ========================================================= -->

        <!-- 09 — Split (CROSS concept) -->
        <section>
          <h3>CROSS JOIN concept</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li><code>CROSS JOIN</code> = every row with every row (Cartesian product)</li>
                <li>Powerful, but easy to explode row counts</li>
                <li>Use intentionally (small sets only)</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Pattern:
FROM A
CROSS JOIN B</code></pre>
            </div>
          </div>
        </section>

        <!-- 10 — Split (CROSS example) -->
        <section>
          <h3>CROSS JOIN example: all rider × bike pairs</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Think: every possible pairing</li>
                <li>Like taking many steps in all directions—quickly gets large</li>
                <li>Count results to stay safe</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT r.name, b.bike_type
FROM riders r
CROSS JOIN bikes b
ORDER BY r.name, b.bike_type;</code></pre>
            </div>
          </div>
        </section>

        <!-- 11 — Split (CROSS count) -->
        <section>
          <h3>Sanity check: expected row count</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Row count should be: riders × bikes</li>
                <li>Good “wet ground” habit before adding filters</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT
  (SELECT COUNT(*) FROM riders) AS rider_rows,
  (SELECT COUNT(*) FROM bikes)  AS bike_rows,
  (SELECT COUNT(*) FROM riders) * (SELECT COUNT(*) FROM bikes) AS expected_pairs;</code></pre>
            </div>
          </div>
        </section>

        <!-- ========================================================= -->
        <!-- JOIN ... ON -->
        <!-- ========================================================= -->

        <!-- 12 — Split (ON concept) -->
        <section>
          <h3>JOIN ... ON concept</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li><code>ON</code> defines the matching rule between two tables</li>
                <li>Most common join style</li>
                <li>Works even when column names differ</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Pattern:
FROM A
JOIN B
  ON A.key = B.key</code></pre>
            </div>
          </div>
        </section>

        <!-- 13 — Split (ON example: rentals + riders) -->
        <section>
          <h3>ON example: attach rider names to rentals</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Rentals is a fact table</li>
                <li>Join adds human-readable fields</li>
                <li>Classic reporting step</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT rt.rental_id, r.name, rt.pickup_ts, rt.dropoff_ts
FROM rentals rt
JOIN riders r
  ON rt.rider_id = r.rider_id
ORDER BY rt.rental_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- 14 — Split (ON example: rentals + bikes) -->
        <section>
          <h3>ON example: attach bike info to rentals</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Join rentals → bikes</li>
                <li>Now each rental has bike_type and status</li>
                <li>Step-by-step: add one join at a time</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT rt.rental_id, b.bike_type, b.status, rt.pickup_ts
FROM rentals rt
JOIN bikes b
  ON rt.bike_id = b.bike_id
ORDER BY rt.rental_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- 15 — Split (two joins) -->
        <section>
          <h3>Two joins: rentals + riders + bikes</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Common “fact + two dimensions” pattern</li>
                <li>Each join adds meaning without changing the fact grain</li>
                <li>Verify row counts stay stable</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT rt.rental_id, r.name, b.bike_type, rt.pickup_ts, rt.dropoff_ts
FROM rentals rt
JOIN riders r
  ON rt.rider_id = r.rider_id
JOIN bikes b
  ON rt.bike_id = b.bike_id
ORDER BY rt.rental_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- 16 — Before/After: CROSS + filter → JOIN ON -->
        <section>
          <h3>Before/After: CROSS + WHERE → JOIN ... ON</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li><strong>Before</strong>: cross product then filter</li>
                <li><strong>After</strong>: explicit join rule</li>
                <li>Habit: prefer <code>JOIN ... ON</code> for clarity</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Before:
SELECT rt.rental_id, r.name
FROM rentals rt
CROSS JOIN riders r
WHERE rt.rider_id = r.rider_id;

-- After:
SELECT rt.rental_id, r.name
FROM rentals rt
JOIN riders r
  ON rt.rider_id = r.rider_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- ========================================================= -->
        <!-- JOIN ... USING -->
        <!-- ========================================================= -->

        <!-- 17 — Split (USING concept) -->
        <section>
          <h3>JOIN ... USING concept</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li><code>USING (col)</code> is shorthand when both tables share the same column name</li>
                <li>Returns that column once (clean output)</li>
                <li>Good for “natural key” style schemas</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Pattern:
FROM A
JOIN B USING (shared_key)</code></pre>
            </div>
          </div>
        </section>

        <!-- 18 — Setup: a second table with shared key name -->
        <section>
          <h3>Setup for USING: a rider preferences table</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Same key name: <code>rider_id</code></li>
                <li>Makes <code>USING</code> natural</li>
                <li>Small table, easy to reason about</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">CREATE TABLE rider_prefs (
  rider_id   INTEGER PRIMARY KEY REFERENCES riders(rider_id),
  prefers    TEXT NOT NULL
);

INSERT INTO rider_prefs(rider_id, prefers) VALUES
(1, 'e-bike'),
(2, 'road');</code></pre>
            </div>
          </div>
        </section>

        <!-- 19 — Split (USING example) -->
        <section>
          <h3>USING example: riders joined to their preferences</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li><code>USING (rider_id)</code> avoids repeating <code>r.rider_id = p.rider_id</code></li>
                <li>Cleaner output: one <code>rider_id</code></li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT rider_id, name, prefers
FROM riders
JOIN rider_prefs USING (rider_id)
ORDER BY rider_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- 20 — Before/After: ON → USING -->
        <section>
          <h3>Before/After: ON → USING</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li><strong>Before</strong>: explicit equality</li>
                <li><strong>After</strong>: compact USING</li>
                <li>Use only when column names truly match</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Before:
SELECT r.rider_id, r.name, p.prefers
FROM riders r
JOIN rider_prefs p
  ON r.rider_id = p.rider_id;

-- After:
SELECT rider_id, name, prefers
FROM riders
JOIN rider_prefs USING (rider_id);</code></pre>
            </div>
          </div>
        </section>

        <!-- 21 — Table (ON vs USING) -->
        <section>
          <h3>ON vs USING</h3>
          <table class="table">
            <thead>
              <tr>
                <th>Need</th>
                <th>Use</th>
                <th>Reason</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Different column names</td>
                <td><code>ON</code></td>
                <td>Most flexible</td>
              </tr>
              <tr>
                <td>Same column name(s)</td>
                <td><code>USING</code></td>
                <td>Shorter + cleaner output</td>
              </tr>
              <tr>
                <td>All combinations</td>
                <td><code>CROSS JOIN</code></td>
                <td>Intentional Cartesian product</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- ========================================================= -->
        <!-- SET OPERATORS -->
        <!-- ========================================================= -->

        <!-- 22 — Split (Set operator concept) -->
        <section>
          <h3>Set operators concept</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Set operators combine <em>result sets</em> (not tables)</li>
                <li>Both queries must return the same number of columns</li>
                <li>Compatible data types (e.g., text with text)</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Shape rule:
SELECT col1, col2
...
UNION / INTERSECT / EXCEPT
SELECT col1, col2
...</code></pre>
            </div>
          </div>
        </section>

        <!-- 23 — Split (UNION concept) -->
        <section>
          <h3>UNION concept</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li><code>UNION</code> combines and removes duplicates</li>
                <li><code>UNION ALL</code> keeps duplicates</li>
                <li>Think: “collect all distinct footprints”</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Pattern:
queryA
UNION
queryB</code></pre>
            </div>
          </div>
        </section>

        <!-- 24 — Split (UNION example) -->
        <section>
          <h3>UNION example: cities seen in riders or bikes status labels</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Two different sources, one combined list</li>
                <li>Both queries return 1 TEXT column</li>
                <li>UNION removes duplicates</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT city AS label
FROM riders
UNION
SELECT status AS label
FROM bikes
ORDER BY label;</code></pre>
            </div>
          </div>
        </section>

        <!-- 25 — Split (UNION ALL example) -->
        <section>
          <h3>UNION ALL example: keep duplicates for counting</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Use ALL when duplicates are meaningful</li>
                <li>Then aggregate</li>
                <li>Scientific habit: measure first, then interpret</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT label, COUNT(*) AS occurrences
FROM (
  SELECT city AS label FROM riders
  UNION ALL
  SELECT status AS label FROM bikes
) x
GROUP BY label
ORDER BY occurrences DESC, label;</code></pre>
            </div>
          </div>
        </section>

        <!-- 26 — Split (INTERSECT concept) -->
        <section>
          <h3>INTERSECT concept</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li><code>INTERSECT</code> returns only rows present in both results</li>
                <li>Great for “common to both” questions</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Pattern:
queryA
INTERSECT
queryB</code></pre>
            </div>
          </div>
        </section>

        <!-- 27 — Split (INTERSECT example) -->
        <section>
          <h3>INTERSECT example: riders who appear in rentals</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Same idea as “has rental”, expressed as a set intersection</li>
                <li>Returns rider_id values common to both</li>
                <li>Then join to names if needed</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT rider_id
FROM riders
INTERSECT
SELECT rider_id
FROM rentals
ORDER BY rider_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- 28 — Split (INTERSECT + join to names) -->
        <section>
          <h3>INTERSECT + JOIN: show rider names</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Set step first (IDs)</li>
                <li>Then join for readable fields</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT r.rider_id, r.name
FROM riders r
JOIN (
  SELECT rider_id FROM riders
  INTERSECT
  SELECT rider_id FROM rentals
) x USING (rider_id)
ORDER BY r.rider_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- 29 — Split (EXCEPT concept) -->
        <section>
          <h3>EXCEPT concept</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li><code>EXCEPT</code> returns rows in the first result not in the second</li>
                <li>Set difference (“A minus B”)</li>
                <li>Like steps that go somewhere no one else went</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Pattern:
queryA
EXCEPT
queryB</code></pre>
            </div>
          </div>
        </section>

        <!-- 30 — Split (EXCEPT example: riders with no rentals) -->
        <section>
          <h3>EXCEPT example: riders who never rented</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Return riders missing from rentals</li>
                <li>Often used for audits</li>
                <li>Clear set thinking</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT rider_id
FROM riders
EXCEPT
SELECT rider_id
FROM rentals
ORDER BY rider_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- 31 — Split (EXCEPT + names) -->
        <section>
          <h3>EXCEPT + JOIN: show rider names</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>EXCEPT returns IDs</li>
                <li>Join converts IDs to names</li>
                <li>Best practice for reporting outputs</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT r.rider_id, r.name
FROM riders r
JOIN (
  SELECT rider_id FROM riders
  EXCEPT
  SELECT rider_id FROM rentals
) x USING (rider_id)
ORDER BY r.rider_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- 32 — Table (UNION vs INTERSECT vs EXCEPT) -->
        <section>
          <h3>Set operator cheat table</h3>
          <table class="table">
            <thead>
              <tr>
                <th>Operator</th>
                <th>Keeps</th>
                <th>Typical question</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>UNION</code></td>
                <td>All distinct rows from both</td>
                <td>“Show everything from A or B”</td>
              </tr>
              <tr>
                <td><code>INTERSECT</code></td>
                <td>Only rows in both</td>
                <td>“What’s common to A and B?”</td>
              </tr>
              <tr>
                <td><code>EXCEPT</code></td>
                <td>Rows in A but not B</td>
                <td>“What’s in A missing from B?”</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- 33 — Split (Ordering note) -->
        <section>
          <h3>Important: ORDER BY goes at the end</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>With set operators, apply <code>ORDER BY</code> after the final query</li>
                <li>If you need ordering inside, use subqueries</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Correct:
SELECT city AS label FROM riders
UNION
SELECT status AS label FROM bikes
ORDER BY label;
</code></pre>
            </div>
          </div>
        </section>

        <!-- ========================================================= -->
        <!-- Combined patterns -->
        <!-- ========================================================= -->

        <!-- 34 — Split (JOIN + EXCEPT) -->
        <section>
          <h3>Combine: JOIN + EXCEPT (bikes never rented)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Find bikes missing from rentals</li>
                <li>EXCEPT gives bike_id set difference</li>
                <li>JOIN adds bike details</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT b.bike_id, b.bike_type, b.status
FROM bikes b
JOIN (
  SELECT bike_id FROM bikes
  EXCEPT
  SELECT bike_id FROM rentals
) x USING (bike_id)
ORDER BY b.bike_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- 35 — Split (JOIN + INTERSECT) -->
        <section>
          <h3>Combine: JOIN + INTERSECT (bikes that were rented)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>INTERSECT gives bike_id values seen in both tables</li>
                <li>JOIN makes it readable</li>
                <li>Controlled steps: set first, then decorate</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT b.bike_id, b.bike_type
FROM bikes b
JOIN (
  SELECT bike_id FROM bikes
  INTERSECT
  SELECT bike_id FROM rentals
) x USING (bike_id)
ORDER BY b.bike_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- 36 — Split (JOIN + UNION ALL) -->
        <section>
          <h3>Combine: UNION ALL + JOIN (rider names from two sources)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Two rider sets: Stockton riders and riders who rented</li>
                <li>UNION ALL keeps duplicates (useful to see overlap)</li>
                <li>Then join to names once</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT r.rider_id, r.name, x.source
FROM riders r
JOIN (
  SELECT rider_id, 'city:Stockton' AS source
  FROM riders
  WHERE city = 'Stockton'
  UNION ALL
  SELECT rider_id, 'has:rental' AS source
  FROM rentals
) x USING (rider_id)
ORDER BY r.rider_id, x.source;</code></pre>
            </div>
          </div>
        </section>

        <!-- ========================================================= -->
        <!-- Engine comparison -->
        <!-- ========================================================= -->

        <!-- 37 — Table (SQLite vs Postgres) -->
        <section>
          <h3>Comparison: feature support</h3>
          <table class="table">
            <thead>
              <tr>
                <th>Feature</th>
                <th>SQLite</th>
                <th>PostgreSQL</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>CROSS JOIN</td>
                <td>Supported</td>
                <td>Supported</td>
              </tr>
              <tr>
                <td>JOIN ... ON</td>
                <td>Supported</td>
                <td>Supported</td>
              </tr>
              <tr>
                <td>JOIN ... USING</td>
                <td>Supported</td>
                <td>Supported</td>
              </tr>
              <tr>
                <td>UNION / UNION ALL</td>
                <td>Supported</td>
                <td>Supported</td>
              </tr>
              <tr>
                <td>INTERSECT</td>
                <td>Supported</td>
                <td>Supported</td>
              </tr>
              <tr>
                <td>EXCEPT</td>
                <td>Supported</td>
                <td>Supported</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- 38 — Split (portable habits) -->
        <section>
          <h3>Portable habits (works almost everywhere)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Core joins: <code>JOIN ... ON</code>, <code>JOIN ... USING</code>, <code>CROSS JOIN</code></li>
                <li>Core sets: <code>UNION</code>, <code>INTERSECT</code>, <code>EXCEPT</code></li>
                <li>Always validate row counts after each step</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Portable core:
-- JOIN ... ON / USING
-- UNION / INTERSECT / EXCEPT
-- + COUNT(*) checks</code></pre>
            </div>
          </div>
        </section>

        <!-- ========================================================= -->
        <!-- Practice -->
        <!-- ========================================================= -->

        <!-- 39 — Split (Practice 1) -->
        <section>
          <h3>Practice 1: rentals report (3 tables)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Show rental_id, rider name, bike type</li>
                <li>Use two JOINs with ON</li>
                <li>Sort by rental_id</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT rt.rental_id, r.name, b.bike_type, rt.pickup_ts
FROM rentals rt
JOIN riders r
  ON rt.rider_id = r.rider_id
JOIN bikes b
  ON rt.bike_id = b.bike_id
ORDER BY rt.rental_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- 40 — Split (Practice 2) -->
        <section>
          <h3>Practice 2: riders with no rentals (EXCEPT)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Return rider_id + name</li>
                <li>Use EXCEPT to find missing IDs</li>
                <li>Then join for names</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT r.rider_id, r.name
FROM riders r
JOIN (
  SELECT rider_id FROM riders
  EXCEPT
  SELECT rider_id FROM rentals
) x USING (rider_id)
ORDER BY r.rider_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- 41 — Split (Practice 3) -->
        <section>
          <h3>Practice 3: overlap list (INTERSECT)</h3>
          <div class="split">
            <div class="left">
              <ul>
                <li>Find riders who are in Stockton <em>and</em> have rentals</li>
                <li>INTERSECT the two rider_id sets</li>
                <li>Join to names</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">SELECT r.rider_id, r.name
FROM riders r
JOIN (
  SELECT rider_id FROM riders WHERE city = 'Stockton'
  INTERSECT
  SELECT rider_id FROM rentals
) x USING (rider_id)
ORDER BY r.rider_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- ========================================================= -->
        <!-- Cheat sheet + checkpoint -->
        <!-- ========================================================= -->

        <!-- 42 — Table (cheat sheet) -->
        <section>
          <h3>Cheat sheet</h3>
          <table class="table">
            <thead>
              <tr>
                <th>Need</th>
                <th>Use</th>
                <th>Bike example</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>All combinations</td>
                <td><code>CROSS JOIN</code></td>
                <td>All rider × bike pairs</td>
              </tr>
              <tr>
                <td>Match rows by rule</td>
                <td><code>JOIN ... ON</code></td>
                <td>Rentals ↔ Riders (rider_id)</td>
              </tr>
              <tr>
                <td>Match on shared column</td>
                <td><code>JOIN ... USING</code></td>
                <td>Riders ↔ Prefs (rider_id)</td>
              </tr>
              <tr>
                <td>Combine distinct rows</td>
                <td><code>UNION</code></td>
                <td>Labels from two sources</td>
              </tr>
              <tr>
                <td>Common rows</td>
                <td><code>INTERSECT</code></td>
                <td>Riders who appear in rentals</td>
              </tr>
              <tr>
                <td>Missing rows</td>
                <td><code>EXCEPT</code></td>
                <td>Riders who never rented</td>
              </tr>
            </tbody>
          </table>
        </section>

        <!-- 43 — Split (summary) -->
        <section>
          <h3>Summary</h3>
          <div class="split">
            <div class="left">
              <ul class="tight">
                <li><strong>CROSS JOIN</strong> = all pairings (use carefully)</li>
                <li><strong>ON</strong> = explicit match rule</li>
                <li><strong>USING</strong> = shorthand for shared key name</li>
                <li><strong>UNION</strong> = combine distinct rows (ALL keeps duplicates)</li>
                <li><strong>INTERSECT</strong> = overlap</li>
                <li><strong>EXCEPT</strong> = difference</li>
              </ul>
            </div>
            <div class="right">
              <pre><code class="language-sql">-- Clean, common pattern:
SELECT rt.rental_id, r.name, b.bike_type
FROM rentals rt
JOIN riders r ON rt.rider_id = r.rider_id
JOIN bikes  b ON rt.bike_id  = b.bike_id
ORDER BY rt.rental_id;</code></pre>
            </div>
          </div>
        </section>

        <!-- 44 — Diagram (checkpoint) -->
        <section>
          <svg width="100%" height="260" viewBox="0 0 1200 260" role="img" aria-label="Checkpoint diagram">
            <text x="600" y="160" text-anchor="middle" font-size="18" fill="rgba(255,255,255,0.75)">
              Choose ON/USING/CROSS or UNION/INTERSECT/EXCEPT and verify counts after each step.
            </text>
          </svg>
        </section>

      </section>


    </div>
  </div>

  <div class="global-footer">
    <p>
      <a href="./#/1" class="footer-link">Table of Contents</a> |
      Office Hours: Mon, Wed, 2:00 PM - 3:00 PM, CTC 117 |
      <a href="mailto:sberhe@pacific.edu" class="footer-link">sberhe@pacific.edu</a> |
      <a href="https://pacific.instructure.com/courses/143361/assignments/syllabus" target="_blank">Syllabus</a> |
      <a href="https://pacific.zoom.us/my/berhe" class="footer-link" target="_blank">Join Zoom</a> |
      <a href="https://onecompiler.com/" class="footer-link" target="_blank">OneCompiler (SQL Editor)</a>
    </p>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reveal.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/plugin/markdown/markdown.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/plugin/highlight/highlight.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/plugin/notes/notes.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/plugin/zoom/zoom.min.js"></script>

  <script>
    Reveal.initialize({
      hash: true,
      slideNumber: true,
      plugins: [RevealMarkdown, RevealHighlight, RevealNotes, RevealZoom]
    });
  </script>
</body>

</html>